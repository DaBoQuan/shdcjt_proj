/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._wui._theme._ecology7._page;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.general.Util;
import java.sql.Timestamp;
import java.util.*;
import weaver.systeminfo.menuconfig.LeftMenuConfigHandler;
import weaver.systeminfo.menuconfig.LeftMenuInfo;
import weaver.systeminfo.menuconfig.LeftMenuConfig;
import weaver.systeminfo.menuconfig.MenuMaint;
import weaver.hrm.HrmUserVarify;
import weaver.hrm.User;
import weaver.conn.RecordSet;
import java.util.ArrayList;
import java.lang.reflect.Method;
import weaver.hrm.*;
import weaver.general.*;
import weaver.systeminfo.menuconfig.*;
import weaver.systeminfo.*;
import weaver.systeminfo.setting.*;

public class _left__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;

  public String grtlftMenu(List elements, User user, boolean isPotal) {
  		String rsult = grtlftMenu(elements, user);
  		String tmpLi = "<li>";
  		tmpLi += "<a class='lfMenuItem' href='";
  		tmpLi += "/homepage/Homepage.jsp?hpid=66&subCompanyId=64&isfromportal=1&isfromhp=0";
  		//tmpLi += "' style=\"background:url('/wui/theme/ecology7/page/images/leftmenu/menuitem-blue.png') no-repeat;\" ";
  		tmpLi += "' _bgPosition='0 -28' ";
  		tmpLi += " target=\"mainFrame\" >";
  		tmpLi += "<div class=\"leftMenuItemLeft\" style=\"background-position:0 -28;\"></div>";
  		tmpLi += "<div class=\"leftMenuItemCenter\"; style=\"\">";
  		tmpLi += SystemEnv.getHtmlLabelName(26265, user.getLanguage());
  		tmpLi += "</div>";
  		tmpLi += "<div class=\"leftMenuItemRight\" style=\"\"></div>";
  		tmpLi += "<div style='width:4px;'></div></a>";
  		tmpLi += "</li>";
  		rsult = rsult.substring(0, 4) + tmpLi + rsult.substring(4);
  		return rsult;
  	}
  
  	public String grtlftMenu(List elements, User user) {
  
  		if (elements == null) {
  			return "<ul></ul>";
  		}
  
  		//\u5de6\u4fa7\u83dc\u5355HTML
  		StringBuffer sfcm = new StringBuffer();
  		//---------------------------
  		// \u83dc\u5355\u9879\u80cc\u666f\u56fe\u7247\u968f\u673a\u663e\u793a
  		// bgcnt   : \u5de6\u4fa7\u83dc\u5355\u80cc\u666f\u56fe\u7247\u4e2a\u6570
  		// bgindex : \u5de6\u4fa7\u83dc\u5355\u80cc\u666f\u56fe\u7247\u968f\u673a\u7528\u4e0b\u6807
  		// abgs    : \u5de6\u4fa7\u83dc\u5355\u80cc\u666f\u56fe\u7247\u6570\u7ec4
  		//---------------------------
  		int bgcnt = 4;
  		int bgindex = 4;
  
  		String[] sbgPostions = new String[] { "0 -28", "0 -84", "0 0", "0 -56" };
  
  		sfcm.append("<ul>");
  		for (int licnter = 0; licnter < elements.size(); licnter++) {
  			Map map = (Map) elements.get(licnter);
  
  			bgindex++;
  
  			sfcm.append(getChildMenu(map, sbgPostions[bgindex % 4]));
  
  			String extra = Util.null2String((String) map.get("extra"));
  
  			if (extra != null && !"".equals(extra)) {
  
  			} else {
  				List chilList = (List) map.get("child");
  
  				if (chilList != null && !chilList.isEmpty()) {
  					String shtm = grtlftMenu(chilList, user);
  					sfcm.append(shtm);
  				}
  			}
  
  			sfcm.append("</li>");
  		}
  		sfcm.append("</ul>");
  
  		return sfcm.toString();
  
  	}
  
  	public String getChildMenu(Object obj, String sbgPosition) {
  		StringBuffer sfcm = new StringBuffer();
  		
  		if (!(obj instanceof Map)) {
  			return sfcm.toString();	
  		}
  		
  		Map map = (Map) obj;
  
  		sfcm.append("<li>");
  		sfcm.append("<a class='lfMenuItem' href='");
  		if (map.get("url") == null || map.get("url").toString().equals("")
  				|| map.get("url").toString().equals("#")) {
  			sfcm.append("javascript:void(0);");
  		} else {
  			sfcm.append(((String) map.get("url")).replaceAll("&#38;", "&"));
  		}
          String menuname=map.get("name").toString();
          
  		//sfcm.append("' style='background:url(").append(abg).append(") no-repeat;' ");
  		sfcm.append("' _bgPosition='" + sbgPosition + "'");
  		sfcm.append(" target='" + map.get("target") + "' title='" + menuname + "'>");
  		sfcm.append("<div class='leftMenuItemLeft' style='background-position:" + sbgPosition + ";'></div>");
  		sfcm.append("<div class='leftMenuItemCenter' style=''>");
  		sfcm.append(menuname);
  		sfcm.append("</div>");
  		sfcm.append("<div class='leftMenuItemRight' style=''></div><div style='width:4px;'></div></a>");
  
  
  		return sfcm.toString();
  	}
  
  	public List getPortalMenus(User user) throws Exception {
  		List result = new ArrayList();
  
  		RecordSet rs = new RecordSet();
  
  		String sql = "select id,infoname,subcompanyid from hpinfo h where showtype=1 and isuse=1 and id in (select distinct hpid  from  shareinnerhp where (type=1 and content="
  				+ user.getUID()
  				+ " ) or (type=2 and content="
  				+ user.getUserSubCompany1()
  				+ " ) or (type=3 and content="
  				+ user.getUserDepartment()
  				+ " ) or (type=5 and   content=1 )) order by cast(ordernum as float),id";
  		if (user.getUID() == 1) {
  			sql = "select id,infoname,subcompanyid from hpinfo h where showtype=1 and isuse=1 order by cast(ordernum as float),id";
  		}
  
  		rs.executeSql(sql);
  		while (rs.next()) {
  			Map map = new HashMap();
  			String tempHpid = Util.null2String(rs.getString("id"));
  			String tempHpName = Util.null2String(rs.getString("infoname"));
  			String tempHpSubcompanyid = Util.null2String(rs
  					.getString("subcompanyid"));
  
  			map
  					.put("url", "/homepage/Homepage.jsp?hpid=" + tempHpid
  							+ "&subCompanyId=" + tempHpSubcompanyid
  							+ "&isfromportal=1&isfromhp=0");
  			map.put("target", "mainFrame");
  			map.put("levelid", tempHpid);
  			map.put("icon", "");
  			map.put("name", tempHpName);
  			map.put("child", getPortalSubMenu(tempHpid, user));
  			result.add(map);
  		}
  
  		return result;
  	}
  
  	public List getPortalSubMenu(String parenthpid, User user) {
  		List result = new ArrayList();
  
  		String subMenu = "";
  		String sql = "select id,infoname,subcompanyid from hpinfo h where showtype=2 and parenthpid="
  				+ parenthpid
  				+ " "
  				+ "and isuse=1 and id in (select distinct hpid  from  shareinnerhp where (type=1 and content="
  				+ user.getUID()
  				+ " ) "
  				+ "or (type=2 and content="
  				+ user.getUserSubCompany1()
  				+ " ) or (type=3 and content="
  				+ user.getUserDepartment()
  				+ " ) or (type=5 and   content=1 )) order by ordernum,id";
  		if (user.getUID() == 1) {
  			sql = "select id,infoname,subcompanyid from hpinfo h where showtype=2 and parenthpid="
  					+ parenthpid + " and isuse=1 order by ordernum,id";
  		}
  
  		RecordSet rs = new RecordSet();
  		rs.executeSql(sql);
  
  		while (rs.next()) {
  			Map map = new HashMap();
  			String tempHpid = Util.null2String(rs.getString("id"));
  			String tempHpName = Util.null2String(rs.getString("infoname"));
  			String tempHpSubcompanyid = Util.null2String(rs
  					.getString("subcompanyid"));
  			map
  					.put("url", "/homepage/Homepage.jsp?hpid=" + tempHpid
  							+ "&subCompanyId=" + tempHpSubcompanyid
  							+ "&isfromportal=1&isfromhp=0");
  			map.put("target", "mainFrame");
  			map.put("levelid", tempHpid);
  			map.put("icon", "");
  			map.put("name", tempHpName);
  			result.add(map);
  		}
  		return result;
  	}
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=GBK");
    request.setCharacterEncoding("GBK");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
	User user = HrmUserVarify.getUser(request, response);
	//\u76ae\u80a4\u53d6\u5f97
	String lskin = (String)request.getAttribute("REQUEST_SKIN_FOLDER");
//lskin="default";
	MenuMaint mm = new MenuMaint("left", 3, user.getUID(), user
			.getLanguage());

	List homeMenus = new ArrayList();

	//\u6a2a\u83dc\u5355
	homeMenus = getPortalMenus(user);

	List topMenus = mm.getAllMenus(user, 0);

	out.write("<script type=\"text/javascript\">");
	out.write("var menuMap = new Map();");

	out.write("menuMap.put('-9999', \""
			//+ grtlftMenu(homeMenus, user, true)
			+ grtlftMenu(homeMenus, user)
					.replaceAll("\"", "####") + "\");");

	for (int i = 0; i < topMenus.size(); i++) {
		Map mky = (Map) topMenus.get(i);

		String levelId = (String) mky.get("levelid");
		List childMenus = (List) mky.get("child");
		String strmhtms = "";

		if (mky.get("extra") == null) {

			int level = Integer.parseInt(levelId);
			String linkName = "";
			String linkAddr = "";
			/*
			switch (level) {
			//\u6d41\u7a0b
			case 1:
				linkName = SystemEnv.getHtmlLabelName(26264,user.getLanguage());
				linkAddr = "/homepage/Homepage.jsp?hpid=62&subCompanyId=64&isfromportal=0";
				break;
			//\u6211\u7684\u77e5\u8bc6
			case 2:
				linkName = SystemEnv.getHtmlLabelName(2115,user.getLanguage());
				linkAddr = "/homepage/Homepage.jsp?hpid=61&subCompanyId=64&isfromportal=0";
				break;
			//\u6211\u7684\u5ba2\u6237
			case 3:
				linkName = SystemEnv.getHtmlLabelName(2113,user.getLanguage());
				linkAddr = "/homepage/Homepage.jsp?hpid=65&subCompanyId=64&isfromportal=0";
				break;
			//\u6211\u7684\u9879\u76ee
			case 4:
				linkName = SystemEnv.getHtmlLabelName(2114,user.getLanguage());
				linkAddr = "/homepage/Homepage.jsp?hpid=64&subCompanyId=64&isfromportal=0";
				break;
			//\u4eba\u4e8b
			case 5:
				linkName = SystemEnv.getHtmlLabelName(15882,user.getLanguage());
				linkAddr = "/homepage/Homepage.jsp?hpid=63&subCompanyId=64&isfromportal=0";
				break;
			}
			*/
			strmhtms = grtlftMenu(childMenus, user);
			if (!"".equals(linkName) && !"".equals(linkAddr)) {
				String tmpLi = "<li>";
				tmpLi += "<a class='lfMenuItem' href='";
				tmpLi += linkAddr;
				tmpLi += "' _bgPosition='0 -28'";
				tmpLi += " target=\"mainFrame\" >";
				tmpLi += "<div class=\"leftMenuItemLeft\" style=\"background-position:0 -28;\"></div>";
				tmpLi += "<div class=\"leftMenuItemCenter\"; style=\"\">";
				tmpLi += linkName;
				tmpLi += "</div>";
				tmpLi += "<div class=\"leftMenuItemRight\" style=\"\"></div>";
				
				tmpLi += "<div style='width:4px;'></div></a>";
				tmpLi += "</li>";

				strmhtms = strmhtms.substring(0, 4) + tmpLi
						+ strmhtms.substring(4);
			}
		}

		out.write("menuMap.put('" + levelId + "', \""
				+ strmhtms.replaceAll("\"", "####") + "\");");
	}

	out.write("</script>");

      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((lskin));
      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.print((lskin));
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((lskin));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((lskin));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((lskin));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((lskin));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((lskin));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((lskin));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((lskin));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((grtlftMenu(homeMenus, user)));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print(((String)session.getAttribute("browser_isie") ));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((SystemEnv.getHtmlLabelName(582,user.getLanguage())));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((SystemEnv.getHtmlLabelName(68,user.getLanguage())));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((SystemEnv.getHtmlLabelName(15101,user.getLanguage())));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((SystemEnv.getHtmlLabelName(87,user.getLanguage())));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((SystemEnv.getHtmlLabelName(582,user.getLanguage())));
      out.write(_jsp_string17, 0, _jsp_string17.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("wui/theme/ecology7/page/left.jsp"), 8069418858318909744L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string12;
  private final static char []_jsp_string2;
  private final static char []_jsp_string9;
  private final static char []_jsp_string17;
  private final static char []_jsp_string10;
  private final static char []_jsp_string11;
  private final static char []_jsp_string8;
  private final static char []_jsp_string15;
  private final static char []_jsp_string13;
  private final static char []_jsp_string6;
  private final static char []_jsp_string3;
  private final static char []_jsp_string7;
  private final static char []_jsp_string4;
  private final static char []_jsp_string16;
  private final static char []_jsp_string0;
  private final static char []_jsp_string5;
  private final static char []_jsp_string14;
  private final static char []_jsp_string1;
  static {
    _jsp_string12 = "\" != \"true\") {\r\n		jQuery(\"#drillcrumb\").css(\"width\", size - 9 + \"px\"); // 170\r\n	} else {\r\n		jQuery(\"#drillcrumb\").css(\"width\", size + 3 + \"px\"); // 170\r\n	}	\r\n	\r\n	jQuery(\".leftMenuTopNavDiv\").css(\"width\", size + 3 + \"px\"); // 170\r\n	jQuery(\".navclass\").css(\"width\",  size + 3 + \"px\");   //180\r\n	jQuery(\"#drillcrumbTbl\").css(\"width\", size + 16 + \"px\"); //191\r\n	jQuery(\"#divFloatLeftmenu\").css(\"width\", size + 16  + \"px\");  //186\r\n	jQuery(\"#divFloatLeftmenuContext\").css(\"width\", size + 3  + \"px\");  //186\r\n	\r\n	if (size < 150) {\r\n		setLeftMenuItemFontLt();\r\n	}\r\n}\r\n\r\n//-------------------------------------\r\n// 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 start\r\n//-------------------------------------\r\nfunction setLeftMenuItemANavHeight(size) {\r\n	jQuery(\".leftMenuItemRight\").css(\"left\", size -  5 + \"px\");\r\n	jQuery(\".leftMenuItemCenter\").css(\"width\", size - 16 + \"px\");\r\n	\r\n	jQuery(\".leftMenuItemNavRight\").css(\"left\", size + 1 + \"px\");\r\n	jQuery(\".leftMenuItemNavCenter\").css(\"width\", size - 10 + \"px\");\r\n}\r\n\r\nfunction leftMenuInit() {\r\n	\r\n	var clientScreenHeight = window.screen.height;\r\n	var clientScreenWidth = window.screen.width;\r\n	if (clientScreenWidth < 1280) {\r\n		clientScreenWidth = 1280;\r\n	}\r\n    var tpLeftMenuMaxHeight = Math.round(clientScreenHeight / 2.8);\r\n    var tpLeftMenuMaxWidth = Math.round(clientScreenWidth / 8); //8\r\n    \r\n    \r\n    leftMenuMaxItem = Math.round(tpLeftMenuMaxHeight/28);\r\n    //alert(tpLeftMenuMaxWidth);\r\n    leftMenuItemWidth = tpLeftMenuMaxWidth;\r\n	\r\n	setLeftMenuHeight(leftMenuItemWidth);\r\n	setLeftMenuItemANavHeight(leftMenuItemWidth);\r\n	\r\n    \r\n    leftMenuScrollSpeed = 200;\r\n    leftMenuScrollHeight = leftMenuMaxItem * 28;\r\n    LEFT_MENU_MAX_HEIGHT = leftMenuMaxItem * 28;\r\n}\r\n\r\nleftMenuInit();\r\n\r\nvar shiftKeyFlag = false;\r\njQuery(document).ready(function(event) {\r\n	jQuery(\"#divFloatLeftmenu\").css(\"filter\", \"\");\r\n	jQuery(\"#divFloatLeftmenu\").hide();\r\n 	//\u8bbe\u7f6e\u5de6\u4fa7\u83dc\u5355\u9ad8\u5ea6\r\n    jQuery(\"#leftMenu\").height(LEFT_MENU_MAX_HEIGHT);\r\n    //\u5de6\u4fa7\u83dc\u5355\u5bfc\u822a\r\n    var myLftMenu = new drilldownmenu(\r\n        {menuid: 'drillmenu',menuheight: 'auto',breadcrumbid: 'drillcrumb',persist: {enable: false, overrideselectedul: false},speed:0,homeDir:'".toCharArray();
    _jsp_string2 = "/page/left/leftMenuItemLeft.png) no-repeat;\r\n}\r\n\r\n.leftMenuItemCenter {\r\n	float:left;\r\n	height: 27px;\r\n	line-height:27px;\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string9 = "/page/left/leftMenuUrlCenter.png) repeat-x;\r\n}\r\n.drillcrumbUrlRight {\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string17 = "\";\r\n		}\r\n	}catch(e){\r\n	}\r\n        \r\n    var myLftMenu = new drilldownmenu({\r\n        menuid: 'drillmenu',\r\n        menuheight: 'auto',\r\n        breadcrumbid: 'drillcrumb',\r\n        persist: {enable: false, overrideselectedul: false},\r\n        homeDir: fnavUrlName,\r\n        speed:0\r\n    });\r\n	 jQuery(\".arrowclass\").css(\"position\",\"\").css(\"position\",\"absolute\"); \r\n}\r\n\r\n/**\r\n * \u79fb\u52a8\u5bfc\u822a\u4f4d\u7f6e\r\n */\r\nfunction navMoveIfrmClk(_this) {\r\n    jQuery(\"#divFloatLeftmenu\").each(function(){\r\n        jQuery.dequeue(this, \"fx\");}).animate({\r\n            top : jQuery(_this).offset().top - jQuery(\"#leftMenu\").offset().top + jQuery(\"#leftMenu\").scrollTop(), \r\n            left: jQuery(_this).offset().left- jQuery(\"#leftMenu\").offset().left\r\n        },0, 'backout');\r\n        \r\n        //var abg =  _this.style.backgroundImage;\r\n        var abg = jQuery(_this).attr(\"_bgPosition\");        \r\n		var htmText = jQuery(_this).find(\".leftMenuItemCenter\").text();;\r\n		var htmImg = jQuery(jQuery(_this)[0]).html().substring(0, jQuery(jQuery(_this)[0]).html().toUpperCase().indexOf(\"<DIV\"));\r\n		jQuery(\".leftMenuItemNavLeft\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavRight\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavCenter\").css(\"background-position\", abg).html(\"<span title='\" + htmText + \"' >\" + htmText + \"</span>\");\r\n		jQuery(\"#divFloatLeftmenu .arrowclass\").remove();\r\n		jQuery(htmImg).insertBefore(\".leftMenuItemNavCenter\");\r\n	\r\n		//jQuery(\"#divFloatLeftmenuContext\").html(htmText);\r\n		//jQuery(\"#divFloatLeftmenu\").html(jQuery(\"#divFloatLeftmenu\").html().substring(0, jQuery(\"#divFloatLeftmenu\").html().lastIndexOf(\"</DIV>\") + 6) + htmText);\r\n        jQuery(\"#divFloatLeftmenu\").click(function(){\r\n            //alert(jQuery(_this).attr(\"href\"));\r\n            //window.open(jQuery(_this).attr(\"href\"),jQuery(_this).attr(\"target\"));\r\n        });\r\n}\r\n\r\nfunction syncLMHeight() {\r\n     //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n       jQuery(\"#drillmenu\").height(jQuery(\"#drillmenu ul\").height());\r\n        if (jQuery(\"#drillmenu ul\").height() < LEFT_MENU_MAX_HEIGHT) {\r\n            jQuery(\"#leftMenu\").height(jQuery(\"#drillmenu\").height());\r\n           // jQuery(\"#leftMenu\").parent().height(jQuery(\"#leftMenu\").height());\r\n            setMainElementHeight(jQuery(\"#drillmenu\").height());\r\n            //jQuery(\".navclass\").hide();\r\n        } else {\r\n            jQuery(\"#leftMenu\").height(LEFT_MENU_MAX_HEIGHT);\r\n            //jQuery(\"#leftMenu\").parent().height(LEFT_MENU_MAX_HEIGHT);\r\n            //jQuery(\".navclass\").show();\r\n            setMainElementHeight(LEFT_MENU_MAX_HEIGHT);\r\n        }\r\n}\r\n\r\nfunction syncLMHeightForMail() {\r\n    //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n    var clientScreenHeight = document.body.clientHeight;\r\n    tpLeftMenuMaxHeight = clientScreenHeight-290\r\n    jQuery(\"#leftMenu\").height(tpLeftMenuMaxHeight);\r\n    jQuery(\"#drillmenu\").height(tpLeftMenuMaxHeight);\r\n    \r\n    setMainElementHeight(tpLeftMenuMaxHeight);\r\n     \r\n}\r\n\r\n\r\nfunction lMOpenUrl($this) {\r\n	var _target = $this.attr(\"target\");\r\n	\r\n	if (getEvent().shiftKey || shiftKeyFlag) {\r\n		_target = \"_blank\";\r\n		shiftKeyFlag = false;\r\n	}\r\n	\r\n	var linksrc = $this.attr(\"href\");\r\n	if(linksrc.indexOf(\"javascript\")==-1){\r\n		if (linksrc.indexOf(\"?\") != -1) {\r\n			linksrc += \"&\";\r\n		} else {\r\n			linksrc += \"?\";\r\n		}\r\n		\r\n		linksrc += \"e7\" + new Date().getTime() + \"=\";\r\n		try{\r\n		window.open(linksrc, _target);\r\n		}catch(e){}\r\n	}\r\n} \r\n\r\nfunction isJSOpen($this){\r\n   var linksrc = $this.attr(\"href\");\r\n   if(linksrc.indexOf(\"javascript\")==-1)\r\n      return false;\r\n   else \r\n      return true;   \r\n}\r\n\r\nfunction randomChar(l) {\r\n    var x=\"123456789poiuytrewqasdfghjklmnbvcxzQWERTYUIPLKJHGFDSAZXCVBNM\";\r\n    var tmp=\"\";\r\n    for(var i=0; i< l; i++) {\r\n        tmp += x.charAt(Math.ceil(Math.random()*100000000)%x.length);\r\n    }\r\n  return tmp;\r\n}\r\n\r\n\r\n/**\r\n * \u79fb\u52a8\u7b2c\u4e00\u4e2a\u83dc\u5355\u7684\u5bfc\u822a\u4f4d\u7f6e\r\n */\r\nfunction navMoveFstIfrmClk(_this) {\r\n    jQuery(\"#divFloatLeftmenu\").each(function(){\r\n        jQuery.dequeue(this, \"fx\");}).animate({\r\n            top : jQuery(_this).offset().top - jQuery(\"#leftMenu\").offset().top + jQuery(\"#leftMenu\").scrollTop(), \r\n            left: jQuery(_this).offset().left- jQuery(\"#leftMenu\").offset().left\r\n        },0, 'backout');\r\n        \r\n        //var abg =  _this.style.backgroundImage;\r\n        var abg = jQuery(_this).attr(\"_bgPosition\");        \r\n		var htmText = jQuery(_this).find(\".leftMenuItemCenter\").text();\r\n		//\u53d6\u5f97\u83dc\u5355\u9879\u7684\u591a\u7ea7\u6807\u5fd7\uff08\u7bad\u5934\u56fe\u7247\uff09\r\n        var htmImg = jQuery(jQuery(_this)[0]).html().substring(0, jQuery(jQuery(_this)[0]).html().toUpperCase().indexOf(\"<DIV\"));\r\n		jQuery(\".leftMenuItemNavLeft\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavRight\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavCenter\").css(\"background-position\", abg).html(\"<span title='\" + htmText + \"' >\" + htmText + \"</span>\");\r\n		jQuery(\"#divFloatLeftmenu .arrowclass\").remove();\r\n		jQuery(htmImg).insertBefore(\".leftMenuItemNavCenter\");\r\n		\r\n		//jQuery(\"#divFloatLeftmenuContext\").html(htmImg + htmText);\r\n		//jQuery(\"#divFloatLeftmenu\").html(jQuery(\"#divFloatLeftmenu\").html().substring(0, jQuery(\"#divFloatLeftmenu\").html().lastIndexOf(\"</DIV>\") + 6) + htmText);\r\n        jQuery(\"#divFloatLeftmenu\").click(function(){\r\n            //alert(jQuery(_this).attr(\"href\"));\r\n            //window.open(jQuery(_this).attr(\"href\"),jQuery(_this).attr(\"target\"));\r\n        });\r\n}\r\n\r\n\r\nfunction getEvent() {\r\n	if (window.ActiveXObject) {\r\n		return window.event;// \u5982\u679c\u662fie\r\n	}\r\n	func = getEvent.caller;\r\n	while (func != null) {\r\n		var arg0 = func.arguments[0];\r\n		if (arg0) {\r\n			if ((arg0.constructor == Event || arg0.constructor == MouseEvent)\r\n					|| (typeof (arg0) == \"object\" && arg0.preventDefault && arg0.stopPropagation)) {\r\n				return arg0;\r\n			}\r\n		}\r\n		func = func.caller;\r\n	}\r\n	return null;\r\n}\r\n</script>\r\n\r\n\r\n\r\n<script languange=\"javascript\">\r\nif(navigator.userAgent.indexOf(\"MSIE\")>0 && navigator.userAgent.indexOf(\"MSIE 6.0\") > 0){  \r\n	//DD_belatedPNG.fix('#toolbarMore .tbItm');\r\n	DD_belatedPNG.fix('.leftMenuItemNavRight,background');\r\n}\r\n</script> \r\n\r\n".toCharArray();
    _jsp_string10 = "/page/left/leftMenuUrlRight.png) no-repeat;\r\n}\r\n</STYLE>\r\n\r\n<div class=\"leftMenuTopNavDiv\">\r\n	<div id=\"drillcrumb\">\r\n	</div>\r\n</div>\r\n<div id=\"leftMenu\" style=\"height:27px;overflow: hidden;z-index:20px;position:relative;\">\r\n	<div style=\"width:186px;height:27px;position:absolute;z-index:1000;font-size:11px;font-family:'\u5fae\u8f6f\u96c5\u9ed1', 'verdana';filter: alpha(opacity=0);\" id=\"divFloatLeftmenu\">\r\n		<div class=\"leftMenuItemNavLeft\"></div>\r\n		<div class=\"leftMenuItemNavCenter\"></div>\r\n		<div class=\"leftMenuItemNavRight\"></div>\r\n	</div>\r\n	<div id=\"drillmenu\" class=\"drillmenu\">\r\n		".toCharArray();
    _jsp_string11 = "\r\n	</div>\r\n</div>\r\n\r\n\r\n<div class=\"navclass leftMenuBottomNavDiv\">\r\n	<table align=\"center\" height=\"27px\" cellpadding=\"0px\" cellspacing=\"0px\" width=\"100%\" class=\"leftMenuBottomNavTbl\">\r\n		<tr>\r\n			<td align=\"center\" id=\"navTd\">\r\n			<td>\r\n		</tr>\r\n	</table>\r\n</div>\r\n\r\n\r\n<script type=\"text/javascript\">\r\n\r\n/**\r\n * \u5de6\u4fa7\u83dc\u5355\u6700\u591a\u663e\u793a\u83dc\u5355\u9879\u6570\u76ee\r\n */\r\nvar leftMenuMaxItem = 7;\r\n/**\r\n * \u83dc\u5355\u6eda\u52a8\u901f\u5ea6\r\n */\r\nvar leftMenuScrollSpeed = 200;\r\n\r\n/**\r\n * \u83dc\u5355\u6bcf\u9875\u663e\u793a\u7684\u9ad8\u5ea6\r\n */\r\nvar leftMenuScrollHeight = leftMenuMaxItem * 28;\r\n//---------------------------------------------------------------\r\n//\u5de6\u4fa7\u83dc\u5355\u6700\u591a\u663e\u793a\u83dc\u5355\u9ad8\u5ea6,\u7531\u7cfb\u7edf\u81ea\u52a8\u7b97\u51fa\r\nvar LEFT_MENU_MAX_HEIGHT = leftMenuMaxItem * 28;\r\n//\u5de6\u4fa7\u83dc\u5355\u663e\u793a\u7684\u83dc\u5355\u9879\u9ed1\u5ea6\r\nvar LEFT_MENU_ITEM_HEIGHT = 28;\r\n//\u83dc\u5355\u5bbd\u5ea6\r\nvar leftMenuItemWidth = 175;\r\n//---------------------------------------------------------------\r\n\r\nfunction setLeftMenuItemFontLt() {\r\n	jQuery(\".drillmenu li a\").css(\"padding\", \"5px 5px 4px 20px\");\r\n	jQuery(\"#divFloatLeftmenuContext\").css(\"padding\", \"5px 5px 4px 20px\");\r\n	\r\n}\r\n\r\nfunction setLeftMenuHeight(size) {\r\n	jQuery(\".drillmenu\").css(\"width\", size + \"px\");//    175\r\n\r\n	if (\"".toCharArray();
    _jsp_string8 = "/page/left/leftMenuUrlLeft.png) no-repeat;\r\n}\r\n.drillcrumbUrlCenter {\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string15 = "\" : \"".toCharArray();
    _jsp_string13 = "'}\r\n    );\r\n	 jQuery(\".arrowclass\").css(\"position\",\"\").css(\"position\",\"absolute\"); \r\n    //--------------------------------------------------------\r\n    // \u7ed1\u5b9a\u4e8b\u4ef6\r\n    //--------------------------------------------------------\r\n    jQuery(\".drillmenu ul li a\").bind(\"click\", function() {\r\n        currMObj = this;\r\n        //\u79fb\u52a8\u5bfc\u822a\u6761\u81f3\u5f53\u524d\u6240\u9009\u83dc\u5355\r\n        navMoveIfrmClk(this)\r\n        if(!selFlg) {\r\n            selFlg = true;\r\n            jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n        } else {\r\n            jQuery(\"#divFloatLeftmenu\").show();\r\n        }\r\n        lMOpenUrl(jQuery(this));\r\n        if(!isJSOpen(jQuery(this)))\r\n           return false;\r\n    });\r\n    //-------------------------------------------------------\r\n    lMNavBindClick();\r\n    syncLMHeight();\r\n    //\u5f53\u524d\u5bfc\u822a\u6240\u5728\u83dc\u5355\u6709\u5b50\u83dc\u5355\u65f6\uff0c\u70b9\u51fb\u5bfc\u822a\uff0c\u89e6\u53d1\u5176\u83dc\u5355\u672c\u8eabclick\u4e8b\u4ef6\r\n    jQuery(\"#divFloatLeftmenu\").bind(\"click\", function(event) {\r\n        if (currMObj != null && currMObj != undefined) {\r\n            if (jQuery(currMObj).children('ul')) {\r\n            	if (event.shiftKey) {\r\n            		shiftKeyFlag = true;\r\n           		}\r\n                //jQuery(currMObj).click();\r\n                currMObj.click();\r\n            }\r\n            \r\n        } else {\r\n            var first = jQuery(\"#drillmenu ul li a\").get(0);\r\n            if (first != null && first != undefined) {\r\n           		if (event.shiftKey) {\r\n            		shiftKeyFlag = true;\r\n           		}\r\n                jQuery(first).click();\r\n            }\r\n        }\r\n    });\r\n    if(jQuery(\"#mainFrame\").attr(\"src\")==\"\"){\r\n    	lMnavToFirstNav();\r\n    }\r\n    //\r\n});\r\n\r\n//---------------------------------------------------------------\r\n// \u4ee5\u4e0b\u53d8\u91cf\u4e3a\u83dc\u5355\u7684\u76f8\u5173\u8bbe\u7f6e\r\n// currSubMParent      :  \u5f53\u524d\u5b50\u83dc\u5355\u6240\u5c5e\u7236\u83dc\u5355\r\n// selFlg              :  \u76ee\u524d\u7684\u4f4d\u7f6e\uff1a\u662f\u5426\u5728\u7236\u83dc\u5355\u662f\u5426\u5728\u7236\u4eb2\u90a3\u91cc\r\n// parentMCntLinked    :  \u4fdd\u5b58\u5c42\u7ea7\u83dc\u5355\u5b50\u83dc\u5355\u7684\u4e2a\u6570\uff0c\u7528\u4e8e\u8ba1\u7b97\u83dc\u5355\u9ad8\u5ea6.\r\n// parentMObjLinked    :  \u4fdd\u5b58\u5c42\u7ea7\u83dc\u5355,\u786e\u4fdd\u70b9\u51fburl\u8fd4\u56de\u65f6,\u6709\u6b63\u786e\u7684\u52a8\u4f5c\r\n// parentMLinkedIndex  :  \u4fdd\u5b58\u5c42\u7ea7\u83dc\u5355\u5f53\u524d\u4f4d\u7f6e\r\n// currMObj            :  \u5f53\u524d\u70b9\u51fb\u83dc\u5355\u9879\r\nvar currSubMParent;\r\nvar selFlg = true;\r\nvar parentMCntLinked = new Array();\r\nvar parentMObjLinked = new Array();\r\nvar parentMLinkedIndex = 0;\r\nvar currMObj = null;\r\n// END\r\n//---------------------------------------------------------------\r\n\r\n//---------------------------------------------------------------\r\n// \u83dc\u5355\u9690\u85cf\u65f6\uff0c\u4fdd\u6301\u6700\u540e\u70b9\u51fb\u7684\u83dc\u5355\r\n//---------------------------------------------------------------\r\nvar recentlyClickTopMenuObj = null;\r\nvar lyClickTopmenuStatictics = 0;\r\n/**\r\n * \u52a8\u6001\u6539\u53d8\u5de6\u4fa7\u83dc\u5355\u9879\r\n * \u70b9\u51fb\u9876\u90e8\u83dc\u5355\u65f6\uff0c\u8c03\u7528\u6b64\u51fd\u6570\r\n * @param ele \u5f53\u524d\u70b9\u51fb\u7684\u4e00\u7ea7(\u9876\u7ea7)\u83dc\u5355\r\n */\r\nfunction dymlftenu(ele, isOpenFirstMenu) {\r\n	recentlyClickTopMenuObj = ele;\r\n	lyClickTopmenuStatictics++;\r\n    var paramValue = \"\";\r\n    var levelid = jQuery(ele).attr(\"levelid\");\r\n    \r\n    if(levelid != undefined && levelid != null && levelid != \"\") {\r\n        paramValue = levelid;\r\n    } else {\r\n        paramValue = \"-9999\";\r\n    }\r\n    \r\n    var reg=new RegExp(\"####\",\"g\"); \r\n    if(paramValue==536){\r\n	   	jQuery(\"#navTd\").html(\"\");\r\n	   	jQuery(\"#divFloatLeftmenu\").hide();\r\n	   	jQuery(\"#drillcrumb\").html($(ele).find(\".slideItemText\").text());\r\n	   	jQuery(\"#drillmenu\").html(\"\");\r\n	   	syncLMHeightForMail();\r\n	   \r\n	   	jQuery(\"#drillmenu\").load(\"/email/new/leftmenu.jsp?\"+new Date().getTime(),function(){\r\n	   		jQuery(\"#mainFrame\").attr(\"src\", \"/email/new/MailInBox.jsp?folderid=0\");\r\n	   		jQuery(\".leftMenuItemRight\").css(\"left\", leftMenuItemWidth -  5); \r\n	   		jQuery(\".leftMenuItemCenter\").css(\"width\", leftMenuItemWidth - 11 - 5);\r\n            jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n           \r\n   	});\r\n   }else if (menuMap.get(paramValue) != undefined && menuMap.get(paramValue) != null && menuMap.get(paramValue) != \"\" && paramValue != \"111\") {\r\n        //\u6e05\u7a7a\u6eda\u52a8\u5bfc\u822a\u9879\r\n        jQuery(\"#navTd\").html(\"\");\r\n        currMObj = null;\r\n        var leftMenuHtml = menuMap.get(paramValue).replace(reg, \"\\\"\");\r\n        jQuery(leftMenuHtml).hide();\r\n        jQuery(\"#drillmenu\").html(leftMenuHtml);\r\n        //-------------------------------------\r\n        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 start\r\n        //-------------------------------------\r\n        jQuery(\".leftMenuItemRight\").css(\"left\", leftMenuItemWidth -  5); \r\n		jQuery(\".leftMenuItemCenter\").css(\"width\", leftMenuItemWidth - 11 - 5);\r\n		if (leftMenuItemWidth < 150) {\r\n			setLeftMenuItemFontLt();\r\n		}\r\n        //-------------------------------------\r\n        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 end\r\n        //-------------------------------------\r\n        \r\n        jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n        \r\n        //\u7b2c\u4e00\u4e2a\u83dc\u5355\u9879\r\n        var lfirst = jQuery(\"#drillmenu ul li a\").get(0);\r\n        var isPortal = false;\r\n        if (paramValue == \"-9999\") {\r\n            isPortal = true;\r\n        }\r\n        //\u91cd\u65b0\u7ed1\u5b9a\u83dc\u5355\u9879onclick\u4e8b\u4ef6\r\n        lMNavEventRebind(jQuery(ele).children(\".slideItemText\").html(), isPortal);\r\n        //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n        syncLMHeight();\r\n        //\u5de6\u4fa7\u83dc\u5355onclick\u4e8b\u4ef6\r\n        lMNavBindClick();\r\n        jQuery(leftMenuHtml).show();\r\n        //\u9009\u4e2d\u7b2c\u4e00\u4e2a\u83dc\u5355\u9879\r\n        lMnavToFirstNav(isOpenFirstMenu);\r\n        \r\n        \r\n    } else if (paramValue == \"110\" || paramValue == \"114\" || paramValue == \"111\") {\r\n        //\u6e05\u7a7a\u6eda\u52a8\u5bfc\u822a\u9879\r\n        jQuery(\"#navTd\").html(\"\");\r\n        currMObj = null;\r\n        //\u9690\u85cf\u5bfc\u822a\r\n        jQuery(\"#divFloatLeftmenu\").hide();\r\n        //loadding...\r\n        jQuery(\"#drillmenu\").html(\"<span style=\\\"align:center;padding-top:50px;padding-left:50px;\\\"><img src=\\\"/wui/theme/ecology7/page/images/leftmenu/loader.gif\\\"></span>\");\r\n        \r\n        jQuery(\"#drillcrumb\").html(paramValue == \"114\" ? \"".toCharArray();
    _jsp_string6 = "/page/left/leftMenuItemNavCenter.png) repeat-x;\r\n	background-position:0 -28;\r\n	z-index:-1;\r\n	text-overflow:ellipsis;white-space:nowrap;overflow:hidden;\r\n}\r\n\r\n.leftMenuItemNavRight {\r\n	position: absolute;\r\n	left: 0;\r\n	top: 0;\r\n	height: 27px;\r\n	width: 10px;\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string3 = "/page/left/leftMenuItemCenter.png) repeat-x;\r\n	text-indent:18px;\r\n	text-overflow:ellipsis;white-space:nowrap;overflow:hidden;\r\n}\r\n\r\n.leftMenuItemRight {\r\n	float:left;\r\n	width: 5px;\r\n	height: 27px;\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string7 = "/page/left/leftMenuNavRight.png) no-repeat;\r\n	background-position:0 -28;\r\n	z-index:-1;\r\n}\r\n\r\n.leftMenuItemNavCenter a {\r\n	display:inline-block;\r\n	text-overflow:ellipsis;\r\n	white-space:nowrap;\r\n	overflow:hidden;\r\n	width:100%;\r\n	color:#fff;\r\n}\r\n\r\n#LeftmenuPrev img,#LeftmenuNext img {\r\n	border: 0 none;\r\n}\r\n.drillcrumbUrlLeft {\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string4 = "/page/left/leftMenuItemRight.png) 0 0 no-repeat;\r\n\r\n}\r\n\r\n.leftMenuItemNavLeft {\r\n	position: absolute;\r\n	left: 0;\r\n	top: 0;\r\n	height: 27px;\r\n	width: 11px;\r\n	background:url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string16 = "\"));\r\n        jQuery.ajax({\r\n            url: \"/wui/theme/ecology7/page/ajaxGetMenu.jsp?typeid=\" + paramValue + \"&parentid=\" + (paramValue == \"114\" ? \"\" : \"10\") + \"&lftmn\" + new Date().getTime() + \"=\",\r\n            dataType: \"text\", \r\n            contentType : \"charset=gbk\", \r\n            error:function(ajaxrequest){}, \r\n            success:function(content){\r\n                jQuery(content).hide();\r\n                jQuery(\"#drillmenu\").html(content);\r\n                \r\n                //-------------------------------------\r\n		        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 start\r\n		        //-------------------------------------\r\n		        jQuery(\".leftMenuItemRight\").css(\"left\", leftMenuItemWidth -  5); \r\n				jQuery(\".leftMenuItemCenter\").css(\"width\", leftMenuItemWidth - 11 - 5);\r\n				if (leftMenuItemWidth < 150) {\r\n					setLeftMenuItemFontLt();\r\n				}\r\n		        //-------------------------------------\r\n		        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 end\r\n		        //-------------------------------------\r\n				if (paramValue != \"111\") {\r\n                	menuMap.put(paramValue, content);\r\n                }\r\n                jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n                //\u91cd\u65b0\u7ed1\u5b9a\u83dc\u5355\u9879onclick\u4e8b\u4ef6\r\n                lMNavEventRebind(jQuery(ele).children(\".slideItemText\").html());\r\n                //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n                syncLMHeight();\r\n                lMNavBindClick();\r\n                jQuery(content).show();\r\n                //\u9009\u4e2d\u7b2c\u4e00\u4e2a\u83dc\u5355\u9879\r\n                lMnavToFirstNav(isOpenFirstMenu);\r\n            }  \r\n        });\r\n    }\r\n} \r\n\r\n/**\r\n * \u8fdb\u5165\u5b50\u83dc\u5355\u6216\u8005\u56de\u5230\u7236\u83dc\u5355\u65f6\u7684\u5904\u7406\r\n * @param dz \u56de\u5230\u7236\u83dc\u5355\u65f6:show\r\n *           \u8fdb\u5165\u5b50\u83dc\u5355\u65f6:hide\r\n * @param parent \u8fdb\u5165\u5b50\u83dc\u5355\u524d\uff0c\u9009\u4e2d\u7684\u83dc\u5355\u9879\r\n * @param liparent \u5f53\u524d\u70b9\u51fb\u7684\u83dc\u5355\u9879\r\n * @return null\r\n */ \r\nfunction callback(dz, parent, liparent) {\r\n    //\u6e05\u7a7a\u6eda\u52a8\u5bfc\u822a\u9879\r\n    jQuery(\"#navTd\").html(\"\");\r\n    //\u8fdb\u5165\u5b50\u83dc\u5355\r\n    if (dz == \"hide\") {\r\n         jQuery(\".arrowclass\").css(\"position\",\"\").css(\"position\",\"absolute\"); \r\n        var lfurlHtml = jQuery(\"#drillcrumb\").html();\r\n        if (lfurlHtml != null && lfurlHtml != undefined && lfurlHtml != \"\") {\r\n            if (jQuery(liparent).children('a') != undefined \r\n                && jQuery(liparent).children('a').attr(\"href\") != undefined\r\n                && jQuery(liparent).children('a').attr(\"href\") != \"\"\r\n                && jQuery(liparent).children('a').attr(\"href\") != \"#\"\r\n                && jQuery(liparent).children('a').attr(\"href\") != \"javascript:void(0)\"\r\n                && jQuery(liparent).children('a').attr(\"href\") != \"javascript:void(0);\") {\r\n                    var lfurlnhtml = lfurlHtml.substring(0, lfurlHtml.lastIndexOf(\">\") + 1)  \r\n                                        +  \"<a href='\" + jQuery(liparent).children('a').attr(\"href\") + \"'  onclick=\\\"javascript:window.open(this.href,'mainFrame');return false;\\\">\" \r\n                                        + lfurlHtml.substr(lfurlHtml.lastIndexOf(\">\") + 1) \r\n                                        + \"</a>\";\r\n                    jQuery(\"#drillcrumb\").html(lfurlnhtml);\r\n                }\r\n        }\r\n\r\n        //\u9690\u85cf\u5bfc\u822a\r\n        jQuery(\"#divFloatLeftmenu\").hide();\r\n        \r\n        //\u66f4\u65b0\u4f4d\u7f6e\u72b6\u6001\r\n        selFlg = false;\r\n        //\u4fdd\u5b58\u5f53\u524d\u83dc\u5355\u7684\u5b50\u83dc\u5355\u4e2a\u6570\r\n        parentMCntLinked[parentMLinkedIndex] = jQuery(liparent).parent().children(\"li\").length;\r\n        //\u4fdd\u5b58\u5f53\u524d\u83dc\u5355\uff0c\u5f62\u6210\u83dc\u5355\u94fe\r\n        parentMObjLinked[parentMLinkedIndex] = parent;\r\n        //\u4fdd\u6301\u5f53\u524d\u9009\u4e2d\u7236\u83dc\u5355\r\n        currSubMParent = parent;\r\n        \r\n        parentMLinkedIndex++;\r\n        var currChildCnt = jQuery(liparent).children(\"ul\").children(\"li\").length;\r\n        //\u4f7f\u6eda\u52a8\u6761\u5904\u5728\u9876\u90e8\u4f4d\u7f6e\r\n        jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n        if (currChildCnt  <= leftMenuMaxItem) {\r\n            jQuery(\"#drillmenu\").height(currChildCnt * LEFT_MENU_ITEM_HEIGHT);\r\n            jQuery(\"#leftMenu\").height(currChildCnt * LEFT_MENU_ITEM_HEIGHT);\r\n            //jQuery(\"#leftMenu\").parent().height(currChildCnt * LEFT_MENU_ITEM_HEIGHT);\r\n            setMainElementHeight(currChildCnt * LEFT_MENU_ITEM_HEIGHT);\r\n            //jQuery(\".navclass\").hide();\r\n        } else {\r\n            jQuery(\"#drillmenu\").height(currChildCnt * LEFT_MENU_ITEM_HEIGHT);\r\n            jQuery(\"#leftMenu\").height(LEFT_MENU_MAX_HEIGHT);\r\n          //  jQuery(\"#leftMenu\").parent().height(LEFT_MENU_MAX_HEIGHT);\r\n            setMainElementHeight(LEFT_MENU_MAX_HEIGHT);\r\n            //jQuery(\".navclass\").show();\r\n        }  \r\n        lMNavBindClick();\r\n    //\u56de\u5230\u7236\u83dc\u5355\r\n    } else {\r\n        //\u5f53\u524d\u5c42\u7ea7\u4e0e\u70b9\u51fb\u5c42\u7ea7\u7684\u5dee\u3002\r\n        var lessUrl = 1;\r\n        //\u66f4\u65b0\u72b6\u6001\r\n        selFlg = true;\r\n        //\u83b7\u5f97\u5f53\u524d\u70b9\u51fb\u7684url\u83dc\u5355\u7684\u5c42\u7ea7\r\n        var urlCnt = jQuery(\"#drillcrumb\").children(\"a\").length;\r\n        //\u53d6\u5f97\u8be5\u5c42\u7ea7\u4e0b\u5b50\u83dc\u5355\u7684\u4e2a\u6570\r\n        var plicnt = parentMCntLinked[urlCnt];\r\n        //\u53d6\u5f97\u8be5\u5c42\u7ea7\u672c\u8eab\r\n        currSubMParent = parentMObjLinked[urlCnt];\r\n        \r\n        lessUrl = parentMLinkedIndex - urlCnt;\r\n        //\u66f4\u65b0\u5f53\u524d\u83dc\u5355\u5c42\u7ea7index\r\n        parentMLinkedIndex = urlCnt;\r\n        //\u66f4\u65b0\u5f53\u524d\u5bfc\u822a\u6240\u5728\u83dc\u5355object\r\n        currMObj = currSubMParent;\r\n        \r\n\r\n        if (plicnt <= leftMenuMaxItem) {\r\n            jQuery(\"#drillmenu\").height(plicnt * LEFT_MENU_ITEM_HEIGHT);\r\n            jQuery(\"#leftMenu\").height(plicnt * LEFT_MENU_ITEM_HEIGHT);\r\n            //jQuery(\"#leftMenu\").parent().height(plicnt * LEFT_MENU_ITEM_HEIGHT);\r\n            //jQuery(\".navclass\").hide();\r\n            setMainElementHeight(plicnt * LEFT_MENU_ITEM_HEIGHT);\r\n            jQuery(\"#lprev\").hide();\r\n            jQuery(\"#rprev\").hide();\r\n        } else {\r\n            jQuery(\"#drillmenu\").height(plicnt * LEFT_MENU_ITEM_HEIGHT);\r\n            jQuery(\"#leftMenu\").height(LEFT_MENU_MAX_HEIGHT);\r\n            //jQuery(\"#leftMenu\").parent().height(LEFT_MENU_MAX_HEIGHT);\r\n            //jQuery(\".navclass\").show();\r\n            setMainElementHeight(LEFT_MENU_MAX_HEIGHT);\r\n            jQuery(\"#lprev\").hide();\r\n            jQuery(\"#rprev\").hide();\r\n        }  \r\n        \r\n        \r\n        //\u5bfc\u822a\u56de\u5230\u4e0a\u6b21\u70b9\u51fb\u7684\u7236\u83dc\u5355\u4e0a\r\n        jQuery(\"#divFloatLeftmenu\").each(function(){\r\n        jQuery.dequeue(this, \"fx\");}).animate({\r\n            top : jQuery(currSubMParent).offset().top - jQuery(\"#leftMenu\").offset().top + jQuery(\"#leftMenu\").scrollTop(),\r\n            left: 0\r\n        },0, 'backout');\r\n        //\u53d6\u5f97\u80cc\u666f\u56fe\u7247position\r\n        var abg = jQuery(jQuery(currSubMParent)[0]).attr(\"_bgPosition\");\r\n        //\u53d6\u5f97\u83dc\u5355\u9879\u7684\u591a\u7ea7\u6807\u5fd7\uff08\u7bad\u5934\u56fe\u7247\uff09\r\n        var htmImg = jQuery(jQuery(currSubMParent)[0]).html().substring(0, jQuery(jQuery(currSubMParent)[0]).html().toUpperCase().indexOf(\"<DIV\"));\r\n        //\u53d6\u5f97\u83dc\u5355\u9879\u7684text\r\n		var htmText = jQuery(jQuery(currSubMParent)[0]).find(\".leftMenuItemCenter\").text();\r\n		//\u53d6\u5f97\u83dc\u5355\u9879\u4e2d\u7528\u4e8e\u663e\u793a\u7684div\r\n		var htmDivContext = jQuery(\"#divFloatLeftmenu\").html().substring(0, jQuery(\"#divFloatLeftmenu\").html().toUpperCase().lastIndexOf(\"</DIV>\") + 6);\r\n		//\u6839\u636e\u83dc\u5355\u9879\u7684\u80cc\u666f\u56fe\u7247\u989c\u8272\u6765\u8bbe\u7f6e\u5bfc\u822a\u7684\u989c\u8272\r\n		jQuery(\".leftMenuItemNavLeft\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavRight\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavCenter\").css(\"background-position\", abg).html(\"<span title='\" + htmText + \"' >\" + htmText + \"</span>\");\r\n		jQuery(\"#divFloatLeftmenu .arrowclass\").remove();\r\n		jQuery(htmImg).insertBefore(\".leftMenuItemNavCenter\");\r\n		//jQuery(\"#divFloatLeftmenuContext\").html(htmImg + htmText);\r\n\r\n        //\u663e\u793a\u5bfc\u822a\r\n        jQuery(\"#divFloatLeftmenu\").show();\r\n        \r\n        //\u4f7f\u9009\u4e2d\u7684\u83dc\u5355\u9879\u5904\u4e8e\u53ef\u89c6\u4f4d\u7f6e\r\n        var navNumber = 0;\r\n        var currScrollTop = jQuery(currSubMParent).offset().top - jQuery(\"#leftMenu\").offset().top;\r\n        var flag = (currScrollTop/leftMenuScrollHeight + \"\").indexOf(\".\"); \r\n        if (flag != -1 ) {\r\n            navNumber = currScrollTop/leftMenuScrollHeight < 1 ? 0 : (parseInt(currScrollTop/leftMenuScrollHeight));\r\n        } else {\r\n            navNumber = currScrollTop/leftMenuScrollHeight < 1 ? 0 : currScrollTop/leftMenuScrollHeight;\r\n        }\r\n        \r\n        jQuery(\"#leftMenu\").scrollTo( {top: navNumber * leftMenuScrollHeight + 'px',left:+'0px'}, leftMenuScrollSpeed );\r\n        \r\n        if(jQuery(currSubMParent).offset().top - jQuery(\"#leftMenu\").offset().top + jQuery(\"#leftMenu\").height() < jQuery(\"#drillmenu\")[0].scrollHeight) {\r\n            jQuery(\"#rprev\").show();\r\n        } \r\n        if (jQuery(currSubMParent).offset().top - jQuery(\"#leftMenu\").offset().top > 0) {\r\n            jQuery(\"#lprev\").show();\r\n        }\r\n        lMNavBindClick();\r\n        \r\n        jQuery(\"#navTd\").children('span').css(\"background\", \"url(/wui/theme/ecology7/page/images/leftmenu/lm_nav.png) no-repeat\");\r\n		jQuery(\"#navTd\").children('span').css(\"background-position\", \"center center\");\r\n        jQuery(\"#navTd\").children('span').each(function() {\r\n            var navIndex = jQuery(this).attr(\"navIndex\");\r\n            if (navIndex == navNumber) {\r\n                currentNav = navIndex;\r\n                jQuery(this).css(\"background\", \"url(/wui/theme/ecology7/page/images/leftmenu/\" + (parseInt(navNumber) + 1) + \".png) no-repeat center center\");\r\n            }\r\n        });\r\n        \r\n    }\r\n    \r\n}\r\n\r\nfunction dymLMNav() {\r\n    var navCnt = 0;\r\n    var flag = (jQuery(\"#leftMenu\")[0].scrollHeight/leftMenuScrollHeight + \"\").indexOf(\".\"); \r\n    if (flag != -1 ) {\r\n        navCnt = parseInt(jQuery(\"#leftMenu\")[0].scrollHeight/leftMenuScrollHeight);\r\n    } else {\r\n        navCnt = parseInt(jQuery(\"#leftMenu\")[0].scrollHeight/leftMenuScrollHeight) - 1;\r\n    }\r\n    \r\n    var navSpan = \"\";\r\n    if (navCnt > 0) {\r\n        navSpan = \"<span navIndex=\\\"0\\\" style=\\\"display:inline-block;margin-left:3px;margin-right:3px;margin-top:1px;height:25px;width:25px;cursor:pointer;background:url(/wui/theme/ecology7/page/images/leftmenu/1.png);background-repeat: no-repeat;background-position: center center;\\\">&nbsp;</span>\";\r\n    }\r\n    \r\n    for (var i=1; i<=navCnt; i++) {\r\n        navSpan += \"<span navIndex=\\\"\" + i + \"\\\" style=\\\"display:inline-block;margin-left:3px;margin-right:3px;margin-top:1px;height:25px;width:25px;cursor:pointer;background:url(/wui/theme/ecology7/page/images/leftmenu/lm_nav.png);background-repeat: no-repeat;background-position: center center;\\\">&nbsp;</span>\";                \r\n    }\r\n    \r\n    jQuery(\"#navTd\").html(navSpan)\r\n}\r\n\r\n\r\nvar currentNav = 0;\r\nfunction lMNavBindClick() {\r\n    dymLMNav();\r\n    jQuery(\"#navTd span\").bind(\"click\", function() {lMNavClick(jQuery(this));});\r\n    \r\n    jQuery(\"#navTd span\").hover(function(){\r\n        $this = jQuery(this);\r\n        var navIndex = $this.attr(\"navIndex\");\r\n        if (currentNav != navIndex) {\r\n            $this.css(\"background\", \"url(/wui/theme/ecology7/page/images/leftmenu/\" + (parseInt(navIndex) + 1) + \".png) no-repeat \");\r\n			$this.css(\"background-position\",\"center center\")\r\n        }\r\n        \r\n    }, function() {\r\n        $this = jQuery(this);\r\n        var navIndex = $this.attr(\"navIndex\");\r\n        if (currentNav != navIndex) {\r\n            $this.css(\"background\", \"url(/wui/theme/ecology7/page/images/leftmenu/lm_nav.png) no-repeat\");\r\n			$this.css(\"background-position\",\"center center\")\r\n        }\r\n        \r\n    });\r\n}\r\n\r\nfunction lMNavClick($this) {\r\n    var navIndex = $this.attr(\"navIndex\");\r\n    currentNav = navIndex;\r\n    $this.parent().children('span').css(\"background\", \"url(/wui/theme/ecology7/page/images/leftmenu/lm_nav.png) no-repeat\");\r\n	$this.parent().children('span').css(\"background-position\",\"center center\")\r\n    \r\n    $this.css(\"background\", \"url(/wui/theme/ecology7/page/images/leftmenu/\" + (parseInt(navIndex) + 1) + \".png) no-repeat\");\r\n    $this.css(\"background-position\",\"center center\")\r\n    jQuery(\"#leftMenu\").scrollTo( {top: navIndex * leftMenuScrollHeight + 'px',left:+'0px'}, leftMenuScrollSpeed );\r\n}\r\n\r\nfunction lMnavToFirstNav(isOpenFirstMenu) {\r\n    var first = jQuery(\"#drillmenu ul li a\").get(0);\r\n    var openFlag = jQuery(jQuery(\"#drillmenu ul li\")[0]).children(\".drillmenu\").length;\r\n    //alert(openFlag);\r\n    var hphf = jQuery(first).attr(\"href\");\r\n    if((hphf != undefined && hphf != null && hphf != \"\" && hphf.indexOf(\"Homepage.jsp\") != -1) || openFlag == 0 ) {\r\n       if (first != undefined && first != null && first != \"\") {\r\n            navMoveFstIfrmClk(first);\r\n            jQuery(\"#divFloatLeftmenu\").show();\r\n            //jQuery(\"#divFloatLeftmenu\").hide();\r\n            if (isOpenFirstMenu != false) {\r\n            	jQuery(\"#mainFrame\").attr(\"src\", jQuery(first).attr(\"href\"));\r\n            }\r\n        } else {\r\n            jQuery(\"#divFloatLeftmenu\").hide();\r\n        }\r\n    } else {\r\n        //\u9690\u85cf\u5bfc\u822a\r\n        jQuery(\"#divFloatLeftmenu\").hide();\r\n    }\r\n}\r\n\r\nfunction lMNavEventRebind(fnavUrlName, isPortal) {\r\n    //\u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a\r\n    jQuery(\".drillmenu ul li a\").unbind(\"click\");\r\n    //\u91cd\u65b0\u7ed1\u5b9a\u4e8b\u4ef6\r\n    jQuery(\".drillmenu ul li a\").bind(\"click\", function() {\r\n        currMObj = this;\r\n        \r\n        if ((jQuery(this) != undefined \r\n                && jQuery(this).attr(\"href\") != undefined\r\n                && jQuery(this).attr(\"href\") != \"\"\r\n                && jQuery(this).attr(\"href\") != \"#\"\r\n                )\r\n                || isPortal == true) {\r\n			lMOpenUrl(jQuery(this));\r\n			navMoveIfrmClk(this);\r\n        	jQuery(\"#divFloatLeftmenu\").show();\r\n			if(!isJSOpen(jQuery(this)))\r\n               return false;\r\n        }\r\n    });\r\n    \r\n    jQuery(\"#drillmenu\").unbind();\r\n    jQuery(\"#drillcrumb\").unbind();\r\n\r\n	try{\r\n		if(fnavUrlName == undefined || fnavUrlName == null || fnavUrlName== \"\"){\r\n			fnavUrlName=\"".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script type=\"text/javascript\">\r\n\r\nfunction Map() {    \r\n    var struct = function(key, value) {    \r\n        this.key = key;    \r\n        this.value = value;    \r\n    }    \r\n     \r\n    var put = function(key, value){    \r\n        for (var i = 0; i < this.arr.length; i++) {    \r\n            if ( this.arr[i].key === key ) {    \r\n                this.arr[i].value = value;    \r\n                return;    \r\n            }    \r\n        }    \r\n        this.arr[this.arr.length] = new struct(key, value);    \r\n    }    \r\n         \r\n    var get = function(key) {    \r\n        for (var i = 0; i < this.arr.length; i++) {    \r\n            if ( this.arr[i].key === key ) {    \r\n                return this.arr[i].value;    \r\n            }    \r\n        }    \r\n        return null;    \r\n    }    \r\n         \r\n    var remove = function(key) {    \r\n        var v;    \r\n        for (var i = 0; i < this.arr.length; i++) {    \r\n            v = this.arr.pop();    \r\n            if ( v.key === key ) {    \r\n                continue;    \r\n            }    \r\n            this.arr.unshift(v);    \r\n        }    \r\n    }    \r\n         \r\n    var size = function() {    \r\n        return this.arr.length;    \r\n    }    \r\n         \r\n    var isEmpty = function() {    \r\n        return this.arr.length <= 0;    \r\n    }    \r\n       \r\n    this.arr = new Array();    \r\n    this.get = get;    \r\n    this.put = put;    \r\n    this.remove = remove;    \r\n    this.size = size;    \r\n    this.isEmpty = isEmpty;    \r\n}\r\n\r\n</script>\r\n\r\n".toCharArray();
    _jsp_string5 = "/page/left/leftMenuItemNavLeft.png) no-repeat;\r\n	background-position:0 -28;\r\n	z-index:-1;\r\n}\r\n\r\n.leftMenuItemNavCenter {\r\n	position: absolute;\r\n	left: 11px;\r\n	top: 0;\r\n	height: 27px;\r\n	line-height:27px;\r\n	text-indent:18px;\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
    _jsp_string14 = "\" : (paramValue == \"110\" ? \"".toCharArray();
    _jsp_string1 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/jquery.js\"></script>\r\n<script type=\"text/javascript\" src=\"/wui/theme/ecology7/jquery/plugin/drilldownmenu.js\"></script>\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/plugin/jquery.scrollTo.js\"></script>\r\n\r\n\r\n<STYLE TYPE=\"text/css\">\r\n.drillmenu { /* main DIV container of menu */\r\n	/*border: 2px solid black;*/\r\n	margin-left: 1px;\r\n	width: 175px; /*width of menu*/\r\n	height:0px; /*Height of DIV for those with JavaScript disabled*/\r\n	overflow-y: hidden;\r\n	/*Scrollable DIV for those with JavaScript disabled*/\r\n}\r\n\r\n.drillmenu ul { /*menu ULs*/\r\n	font: normal 12px;\r\n	margin: 0;\r\n	padding: 0;\r\n	list-style-type: none;\r\n	/*background: lightyellow; background of menu*/\r\n}\r\n\r\n.drillmenu li {\r\n}\r\n\r\n.drillmenu li .lfMenuItem { /*menu links*/\r\n	position: relative;\r\n	display: block;\r\n	text-decoration: none;\r\n	color: #006269!important;\r\n	margin-bottom: 1px;\r\n	font-size: 11px;\r\n	height: 27px;\r\n	line-height:28px;\r\n	cursor:pointer;\r\n	font-family: \"\u5fae\u8f6f\u96c5\u9ed1\", \"verdana\";\r\n	z-index: 1;\r\n	text-overflow:ellipsis;\r\n	white-space:nowrap;\r\n	overflow:hidden;\r\n	width:100%;\r\n}\r\n\r\n#drillcrumb li a {\r\n	text-decoration: none;\r\n	color: #333!important;\r\n}\r\n\r\n* html .drillmenu li { /*IE6 CSS hack*/\r\n	display: inline-block;\r\n	height: 27px;\r\n}\r\n\r\nli.backcontroltitle { /*style of top level menu title*/\r\n	background: black;\r\n	color: white;\r\n	padding: 4px;\r\n}\r\n\r\nli.backcontrol {\r\n	/*style of back button control that gets added to the top of each sub UL*/\r\n	background: #011054;\r\n	color: white;\r\n	padding: 4px;\r\n	cursor: pointer;\r\n}\r\n.leftMenuTopNavDiv {\r\n	min-height: 30px;\r\n	*height: 30px;\r\n	margin-bottom:10px;\r\n	margin-top:10px;\r\n}\r\n#drillcrumb {\r\n	/*custom, user defined DIV that contains breadcrumb trail*/\r\n	font-size: 12px;\r\n	color: #fff;\r\n	width: 170px;\r\n	min-height: 30px;\r\n	*height: 30px;\r\n	font-family: '\u5fae\u8f6f\u96c5\u9ed1', 'verdana';\r\n	padding-left: 10px;\r\n	padding-top:4px;\r\n}\r\n\r\n#drillcrumb a{\r\n	color:#fff!important;\r\n}\r\n\r\n.navclass {\r\n	width: 180px;\r\n	margin-bottom: 5px;\r\n	margin-top: 10px;\r\n	height: 27px;\r\n}\r\n\r\n#divFloatLeftmenu {\r\n	font-size: 12px;\r\n	padding: 0px 0px 4px 35px;\r\n	cursor: pointer;\r\n}\r\n\r\n.leftMenuItemLeft {\r\nfloat:left;\r\n	height: 27px;\r\n	width: 11px;\r\n	background: url(/wui/theme/ecology7/skins/".toCharArray();
  }
}
