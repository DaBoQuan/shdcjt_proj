/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._workflow._request;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.general.*;
import java.util.*;
import weaver.hrm.*;
import weaver.systeminfo.*;
import weaver.workflow.datainput.DynamicDataInput;
import weaver.workflow.request.RevisionConstants;

public class _workflowaddrequesthtml__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=GBK");
    request.setCharacterEncoding("GBK");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      weaver.workflow.workflow.WFNodeFieldManager wfNodeFieldManager;
      wfNodeFieldManager = (weaver.workflow.workflow.WFNodeFieldManager) pageContext.getAttribute("wfNodeFieldManager");
      if (wfNodeFieldManager == null) {
        wfNodeFieldManager = new weaver.workflow.workflow.WFNodeFieldManager();
        pageContext.setAttribute("wfNodeFieldManager", wfNodeFieldManager);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.workflow.html.WFLayoutToHtml wfLayoutToHtml;
      wfLayoutToHtml = (weaver.workflow.html.WFLayoutToHtml) pageContext.getAttribute("wfLayoutToHtml");
      if (wfLayoutToHtml == null) {
        wfLayoutToHtml = new weaver.workflow.html.WFLayoutToHtml();
        pageContext.setAttribute("wfLayoutToHtml", wfLayoutToHtml);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet rs_html;
      rs_html = (weaver.conn.RecordSet) pageContext.getAttribute("rs_html");
      if (rs_html == null) {
        rs_html = new weaver.conn.RecordSet();
        pageContext.setAttribute("rs_html", rs_html);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet RecordSet_nf1;
      RecordSet_nf1 = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSet_nf1");
      if (RecordSet_nf1 == null) {
        RecordSet_nf1 = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSet_nf1", RecordSet_nf1);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.docs.category.SecCategoryComInfo SecCategoryComInfo1;
      SecCategoryComInfo1 = (weaver.docs.category.SecCategoryComInfo) pageContext.getAttribute("SecCategoryComInfo1");
      if (SecCategoryComInfo1 == null) {
        SecCategoryComInfo1 = new weaver.docs.category.SecCategoryComInfo();
        pageContext.setAttribute("SecCategoryComInfo1", SecCategoryComInfo1);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      
response.setHeader("Pragma","No-Cache");   
response.setHeader("Cache-Control","No-Cache");   
response.setDateHeader("Expires",0);   
User user = HrmUserVarify.getUser(request, response);
int languageid = Util.getIntValue(request.getParameter("languageid"), 7);
int isbill = Util.getIntValue(request.getParameter("isbill"), 0);
int formid = Util.getIntValue(request.getParameter("formid"), 0);
int nodeid = Util.getIntValue(request.getParameter("nodeid"), 0);
int requestid = Util.getIntValue(request.getParameter("requestid"), 0);
int userid = Util.getIntValue(request.getParameter("userid"), 0);
int workflowid = Util.getIntValue(request.getParameter("workflowid"));
String workflowtype = Util.null2String(request.getParameter("workflowtype"));
String topage = Util.null2String(request.getParameter("topage"));
String docFlags = Util.null2String((String)session.getAttribute("requestAdd"+requestid));
int docfileid = Util.getIntValue(request.getParameter("docfileid"));	//\u65b0\u5efa\u6587\u6863\u7684\u5de5\u4f5c\u6d41\u5b57\u6bb5
if(docFlags.equals("")){
	docFlags = Util.null2String((String)session.getAttribute("requestAdd"+userid));
}

wfLayoutToHtml.setRequest(request);
wfLayoutToHtml.setUser(user);
wfLayoutToHtml.setIscreate(1);
Hashtable ret_hs = wfLayoutToHtml.analyzeLayout();
Hashtable otherPara_hs = wfLayoutToHtml.getOtherPara_hs();
String wfformhtml = Util.null2String((String)ret_hs.get("wfformhtml"));
StringBuffer jsStr = wfLayoutToHtml.getJsStr();
String needcheck = wfLayoutToHtml.getNeedcheck();
out.println(wfformhtml); //\u628a\u6a21\u677f\u89e3\u6790\u540e\u7684\u6587\u672c\u8f93\u51fa\u5230\u9875\u9762\u4e0a

StringBuffer htmlHiddenElementsb = wfLayoutToHtml.getHtmlHiddenElementsb();
out.println(htmlHiddenElementsb.toString());//\u628ahidden\u7684input\u8f93\u51fa\u5230\u9875\u9762\u4e0a
int hasRemark = Util.getIntValue((String)otherPara_hs.get("hasRemark"), 0);
String logintype = Util.null2String(request.getParameter("logintype"));
String username = Util.null2String((String)session.getAttribute(userid+"_"+logintype+"username"));
String docCategory=Util.null2String((String)otherPara_hs.get("docCategory"));
Map secMaxUploads = (HashMap)otherPara_hs.get("secMaxUploads");//\u5c01\u88c5\u9009\u62e9\u76ee\u5f55\u7684\u4fe1\u606f
Map secCategorys = (HashMap)otherPara_hs.get("secCategorys");
ArrayList uploadfieldids=(ArrayList)otherPara_hs.get("uploadfieldids");
int maxUploadImageSize_Para = Util.getIntValue((String)otherPara_hs.get("maxUploadImageSize"), -1);
int secid = Util.getIntValue(docCategory.substring(docCategory.lastIndexOf(",")+1),-1);
int maxUploadImageSize = -1;
if(maxUploadImageSize_Para > 0){
	maxUploadImageSize = maxUploadImageSize_Para;
}else{
	maxUploadImageSize = Util.getIntValue(SecCategoryComInfo1.getMaxUploadFileSize(""+secid),5);
}
if(maxUploadImageSize<=0){
	maxUploadImageSize = 5;
}
//\u83b7\u5f97\u89e6\u53d1\u5b57\u6bb5\u540d
DynamicDataInput ddi=new DynamicDataInput(workflowid+"");
String trrigerfield=ddi.GetEntryTriggerFieldName();
String trrigerdetailfield=ddi.GetEntryTriggerDetailFieldName();
int detailsum=0;
int titleFieldId=0;
int keywordFieldId=0;
String isSignDoc_add="";
String isSignWorkflow_add="";
RecordSet_nf1.execute("select titleFieldId,keywordFieldId,isSignDoc,isSignWorkflow from workflow_base where id="+workflowid);
if(RecordSet_nf1.next()){
	titleFieldId=Util.getIntValue(RecordSet_nf1.getString("titleFieldId"),0);
	keywordFieldId=Util.getIntValue(RecordSet_nf1.getString("keywordFieldId"),0);
	isSignDoc_add=Util.null2String(RecordSet_nf1.getString("isSignDoc"));
	isSignWorkflow_add=Util.null2String(RecordSet_nf1.getString("isSignWorkflow"));
}

      out.write(_jsp_string3, 0, _jsp_string3.length);
      
String isSignMustInput="0";
String isFormSignature=null;
int formSignatureWidth=RevisionConstants.Form_Signature_Width_Default;
int formSignatureHeight=RevisionConstants.Form_Signature_Height_Default;
RecordSet_nf1.executeSql("select isFormSignature,formSignatureWidth,formSignatureHeight,issignmustinput from workflow_flownode where workflowId="+workflowid+" and nodeId="+nodeid);
if(RecordSet_nf1.next()){
	isFormSignature = Util.null2String(RecordSet_nf1.getString("isFormSignature"));
	formSignatureWidth= Util.getIntValue(RecordSet_nf1.getString("formSignatureWidth"),RevisionConstants.Form_Signature_Width_Default);
	formSignatureHeight= Util.getIntValue(RecordSet_nf1.getString("formSignatureHeight"),RevisionConstants.Form_Signature_Height_Default);
	isSignMustInput = ""+Util.getIntValue(RecordSet_nf1.getString("issignmustinput"), 0);
}
int isUseWebRevision_t = Util.getIntValue(new weaver.general.BaseBean().getPropValue("weaver_iWebRevision","isUseWebRevision"), 0);
if(isUseWebRevision_t != 1){
	isFormSignature = "";
}
if(hasRemark != 1){
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((SystemEnv.getHtmlLabelName(17614,languageid)));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((SystemEnv.getHtmlLabelName(17614,languageid)));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      

		 //String workflowPhrases[] = WorkflowPhrase.getUserWorkflowPhrase(""+userid);
		//add by cyril on 2008-09-30 for td:9014
 		boolean isSuccess  = RecordSet_nf1.executeProc("sysPhrase_selectByHrmId",""+userid);
 		String workflowPhrases[] = new String[RecordSet_nf1.getCounts()];
 		String workflowPhrasesContent[] = new String[RecordSet_nf1.getCounts()];
 		int m = 0 ;
 		if (isSuccess) {
 			while (RecordSet_nf1.next()){
 				workflowPhrases[m] = Util.null2String(RecordSet_nf1.getString("phraseShort"));
 				workflowPhrasesContent[m] = Util.toHtml(Util.null2String(RecordSet_nf1.getString("phrasedesc")));
 				m ++ ;
 			}
 		}
 		//end by cyril on 2008-09-30 for td:9014

if("1".equals(isFormSignature)){
		 int workflowRequestLogId=-1;

      out.write(_jsp_string7, 0, _jsp_string7.length);
      pageContext.include("/workflow/request/WorkflowLoadSignature.jsp", "workflowRequestLogId=" + com.caucho.el.Expr.toString(workflowRequestLogId, null)+ "&" + "isSignMustInput=" + com.caucho.el.Expr.toString(isSignMustInput, null)+ "&" + "formSignatureWidth=" + com.caucho.el.Expr.toString(formSignatureWidth, null)+ "&" + "formSignatureHeight=" + com.caucho.el.Expr.toString(formSignatureHeight, null), false);
      out.write(_jsp_string1, 0, _jsp_string1.length);
      
}else{
			 if(workflowPhrases.length>0){
		 
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((SystemEnv.getHtmlLabelName(22409,languageid)));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      
				  for (int i= 0 ; i <workflowPhrases.length;i++) {
					String workflowPhrase = workflowPhrases[i] ;
					//\u8fd9\u91cc\u628avalue\u6539\u6210\u5185\u5bb9
				
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((workflowPhrasesContent[i]));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((workflowPhrase));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      }
      out.write(_jsp_string13, 0, _jsp_string13.length);
      }
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((SystemEnv.getHtmlLabelName(17614,languageid)));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((SystemEnv.getHtmlLabelName(17614,languageid)));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      if(isSignMustInput.equals("1")){
      out.write(_jsp_string17, 0, _jsp_string17.length);
      }
      out.write(_jsp_string18, 0, _jsp_string18.length);
      
						  if(isSignMustInput.equals("1")){
						
      out.write(_jsp_string19, 0, _jsp_string19.length);
      
						  }
						
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((languageid));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      if(isSignMustInput.equals("1")){
      out.write(_jsp_string22, 0, _jsp_string22.length);
      }
      out.write(_jsp_string23, 0, _jsp_string23.length);
      }
      out.write(_jsp_string24, 0, _jsp_string24.length);
      
		 if("1".equals(isSignDoc_add)){
		 
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((SystemEnv.getHtmlLabelName(857,languageid)));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((SystemEnv.getHtmlLabelName(857,languageid)));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      }
      out.write(_jsp_string28, 0, _jsp_string28.length);
      
		 if("1".equals(isSignWorkflow_add)){
		 
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((SystemEnv.getHtmlLabelName(1044,languageid)));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((SystemEnv.getHtmlLabelName(1044,languageid)));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      }
      out.write(_jsp_string28, 0, _jsp_string28.length);
      
		 String isannexupload_add=(String)session.getAttribute(userid+"_"+workflowid+"isannexupload");
		 if("1".equals(isannexupload_add)){
			int annexmainId=0;
			int annexsubId=0;
			int annexsecId=0;
			String annexdocCategory_add=(String)session.getAttribute(userid+"_"+workflowid+"annexdocCategory");
			 if("1".equals(isannexupload_add) && annexdocCategory_add!=null && !annexdocCategory_add.equals("")){
				annexmainId=Util.getIntValue(annexdocCategory_add.substring(0,annexdocCategory_add.indexOf(',')));
				annexsubId=Util.getIntValue(annexdocCategory_add.substring(annexdocCategory_add.indexOf(',')+1,annexdocCategory_add.lastIndexOf(',')));
				annexsecId=Util.getIntValue(annexdocCategory_add.substring(annexdocCategory_add.lastIndexOf(',')+1));
			  }
			 int annexmaxUploadImageSize=Util.getIntValue(SecCategoryComInfo1.getMaxUploadFileSize(""+annexsecId),5);
			 if(annexmaxUploadImageSize<=0){
				annexmaxUploadImageSize = 5;
			 }
		 
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((SystemEnv.getHtmlLabelName(22194,languageid)));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      if(annexsecId<1){
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((SystemEnv.getHtmlLabelName(21418,languageid)+SystemEnv.getHtmlLabelName(15808,languageid)));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      }else{
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((annexmainId));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((annexsubId));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      out.print((annexsecId));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((user.getUID()));
      out.write(_jsp_string39, 0, _jsp_string39.length);
      out.print((user.getLogintype()));
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((annexmaxUploadImageSize));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      out.print((SystemEnv.getHtmlLabelName(21406,languageid)));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      out.print((SystemEnv.getHtmlLabelName(21407,languageid)));
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((SystemEnv.getHtmlLabelName(18976,languageid)));
      out.print((annexmaxUploadImageSize));
      out.print((SystemEnv.getHtmlLabelName(18977,languageid)));
      out.write(_jsp_string44, 0, _jsp_string44.length);
      out.print((annexmainId));
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((annexsubId));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((annexsecId));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      }}
      out.write(_jsp_string48, 0, _jsp_string48.length);
      }
      out.write(_jsp_string49, 0, _jsp_string49.length);
      out.print((workflowid));
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.print((workflowtype));
      out.write(_jsp_string51, 0, _jsp_string51.length);
      out.print((nodeid));
      out.write(_jsp_string52, 0, _jsp_string52.length);
      out.print((formid));
      out.write(_jsp_string53, 0, _jsp_string53.length);
      out.print((topage));
      out.write(_jsp_string54, 0, _jsp_string54.length);
      out.print((isbill));
      out.write(_jsp_string55, 0, _jsp_string55.length);
      out.print((needcheck));
      out.write(_jsp_string56, 0, _jsp_string56.length);
      out.print((System.currentTimeMillis()));
      out.write(_jsp_string57, 0, _jsp_string57.length);
      out.print((requestid));
      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((formid));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((isbill));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((nodeid));
      out.write(_jsp_string61, 0, _jsp_string61.length);
      out.println(jsStr.toString());
      out.write(_jsp_string62, 0, _jsp_string62.length);
      out.print((requestid));
      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((formid));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((isbill));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((nodeid));
      out.write(_jsp_string63, 0, _jsp_string63.length);
      out.print((formid));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((isbill));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((nodeid));
      out.write(_jsp_string64, 0, _jsp_string64.length);
      out.print((formid));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((isbill));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((nodeid));
      out.write(_jsp_string65, 0, _jsp_string65.length);
      out.print((SystemEnv.getHtmlLabelName(20253,languageid)));
      out.write(_jsp_string66, 0, _jsp_string66.length);
      out.print((SystemEnv.getHtmlLabelName(21015,languageid)));
      out.write(_jsp_string67, 0, _jsp_string67.length);
      out.print((SystemEnv.getHtmlLabelName(21090,languageid)));
      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((maxUploadImageSize));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((SystemEnv.getHtmlLabelName(20254,languageid)));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((SystemEnv.getHtmlLabelName(20255,languageid)));
      out.print((maxUploadImageSize));
      out.write('M');
      out.print((SystemEnv.getHtmlLabelName(20256 ,languageid)));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      
		int checkdetailno = 0;
		if(isbill > 0) {
			if(formid==7||formid==156 || formid==157 || formid==158) {
		
      out.write(_jsp_string72, 0, _jsp_string72.length);
      
			} else {
				rs_html.execute("select tablename,title from Workflow_billdetailtable where billid="+formid+" order by orderid");
				while(rs_html.next()) {
	   	
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((checkdetailno));
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((checkdetailno));
      out.write(_jsp_string75, 0, _jsp_string75.length);
      
			   		checkdetailno ++;
				}
			}
		} else {
	    
      out.write(_jsp_string76, 0, _jsp_string76.length);
      
		  int checkGroupId=0;
		  rs_html.executeSql("select distinct groupId from Workflow_formfield where formid="+formid+" and isdetail='1' order by groupid");
		  while (rs_html.next()) {
			checkGroupId=rs_html.getInt(1);
	    
      out.write(_jsp_string77, 0, _jsp_string77.length);
      out.print((checkGroupId));
      out.write(_jsp_string78, 0, _jsp_string78.length);
      out.print((checkGroupId));
      out.write(_jsp_string79, 0, _jsp_string79.length);
      
		  }
		}
	
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((maxUploadImageSize));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((docCategory));
      out.write(_jsp_string82, 0, _jsp_string82.length);
      
if(secCategorys!=null&&secMaxUploads!=null&&secMaxUploads.size()>0)
{
	Set selectValues = secMaxUploads.keySet();

	for(Iterator i = selectValues.iterator();i.hasNext();)
	{
		String value = (String)i.next();
		String maxUpload = (String)secMaxUploads.get(value);
		String uplCategory=(String)secCategorys.get(value);

      out.write(_jsp_string83, 0, _jsp_string83.length);
      out.print((value));
      out.write(_jsp_string84, 0, _jsp_string84.length);
      out.print((maxUpload));
      out.write(_jsp_string85, 0, _jsp_string85.length);
      out.print((uplCategory));
      out.write(_jsp_string86, 0, _jsp_string86.length);
      
	}
}

      out.write(_jsp_string87, 0, _jsp_string87.length);
      
	if(uploadfieldids!=null){
    for(int i=0;i<uploadfieldids.size();i++){
    
      out.write(_jsp_string88, 0, _jsp_string88.length);
      out.print((uploadfieldids.get(i)));
      out.write(_jsp_string89, 0, _jsp_string89.length);
      out.print((uploadfieldids.get(i)));
      out.write(_jsp_string90, 0, _jsp_string90.length);
      }}
      out.write(_jsp_string91, 0, _jsp_string91.length);
      out.print((SystemEnv.getHtmlLabelName(18976,user.getLanguage())));
      out.write(_jsp_string92, 0, _jsp_string92.length);
      out.print((SystemEnv.getHtmlLabelName(18977,user.getLanguage())));
      out.write(_jsp_string93, 0, _jsp_string93.length);
      out.print((maxUploadImageSize));
      out.write(_jsp_string94, 0, _jsp_string94.length);
      out.print((SystemEnv.getHtmlLabelName(18976,languageid)));
      out.write(_jsp_string95, 0, _jsp_string95.length);
      out.print((SystemEnv.getHtmlLabelName(18977,languageid)));
      out.write(_jsp_string96, 0, _jsp_string96.length);
      if("1".equals(isFormSignature)){
      out.write(_jsp_string97, 0, _jsp_string97.length);
      out.print((SystemEnv.getHtmlLabelName(17614,user.getLanguage())));
      out.write(_jsp_string98, 0, _jsp_string98.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string99, 0, _jsp_string99.length);
      out.print((SystemEnv.getHtmlLabelName(21442,user.getLanguage())));
      out.write(_jsp_string100, 0, _jsp_string100.length);
      }else{
      out.write(_jsp_string101, 0, _jsp_string101.length);
      }
      out.write(_jsp_string102, 0, _jsp_string102.length);
      out.print((SystemEnv.getHtmlLabelName(24827,user.getLanguage())));
      out.write(_jsp_string103, 0, _jsp_string103.length);
      out.print((SystemEnv.getHtmlLabelName(24828,user.getLanguage())));
      out.write(_jsp_string104, 0, _jsp_string104.length);
      out.print((needcheck));
      out.write(_jsp_string105, 0, _jsp_string105.length);
      
	if(isSignMustInput.equals("1")){
		if("1".equals(isFormSignature)){
		}else{

      out.write(_jsp_string106, 0, _jsp_string106.length);
      
		}
	}

      out.write(_jsp_string107, 0, _jsp_string107.length);
      if("1".equals(isFormSignature)){
      out.write(_jsp_string108, 0, _jsp_string108.length);
      out.print((SystemEnv.getHtmlLabelName(18979,languageid)));
      out.write(_jsp_string109, 0, _jsp_string109.length);
      out.print((SystemEnv.getHtmlLabelName(17614,user.getLanguage())));
      out.write(_jsp_string98, 0, _jsp_string98.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string99, 0, _jsp_string99.length);
      out.print((SystemEnv.getHtmlLabelName(21442,user.getLanguage())));
      out.write(_jsp_string110, 0, _jsp_string110.length);
      }else{
      out.write(_jsp_string111, 0, _jsp_string111.length);
      out.print((SystemEnv.getHtmlLabelName(18979,languageid)));
      out.write(_jsp_string112, 0, _jsp_string112.length);
      }
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((SystemEnv.getHtmlLabelName(24827,user.getLanguage())));
      out.write(_jsp_string103, 0, _jsp_string103.length);
      out.print((SystemEnv.getHtmlLabelName(24828,user.getLanguage())));
      out.write(_jsp_string114, 0, _jsp_string114.length);
      out.print((needcheck));
      out.write(_jsp_string115, 0, _jsp_string115.length);
      
	if(isSignMustInput.equals("1")){
		if("1".equals(isFormSignature)){
		}else{

      out.write(_jsp_string106, 0, _jsp_string106.length);
      
		}
	}

      out.write(_jsp_string116, 0, _jsp_string116.length);
      out.print((formid));
      out.write(_jsp_string117, 0, _jsp_string117.length);
      out.print((SystemEnv.getHtmlLabelName(15313,languageid)));
      out.print((SystemEnv.getHtmlLabelName(15508,languageid)));
      out.print((SystemEnv.getHtmlLabelName(1446,languageid)));
      out.write(_jsp_string118, 0, _jsp_string118.length);
      if("1".equals(isFormSignature)){
      out.write(_jsp_string108, 0, _jsp_string108.length);
      out.print((SystemEnv.getHtmlLabelName(18978,languageid)));
      out.write(_jsp_string119, 0, _jsp_string119.length);
      out.print((SystemEnv.getHtmlLabelName(17614,user.getLanguage())));
      out.write(_jsp_string98, 0, _jsp_string98.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string99, 0, _jsp_string99.length);
      out.print((SystemEnv.getHtmlLabelName(21442,user.getLanguage())));
      out.write(_jsp_string110, 0, _jsp_string110.length);
      }else{
      out.write(_jsp_string111, 0, _jsp_string111.length);
      out.print((SystemEnv.getHtmlLabelName(18978,languageid)));
      out.write(_jsp_string120, 0, _jsp_string120.length);
      }
      out.write(_jsp_string121, 0, _jsp_string121.length);
      out.print((trrigerfield));
      out.write(_jsp_string122, 0, _jsp_string122.length);
      out.print((workflowid));
      out.write(_jsp_string123, 0, _jsp_string123.length);
      out.print((formid));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((isbill));
      out.write(_jsp_string125, 0, _jsp_string125.length);
      out.print((nodeid));
      out.write(_jsp_string126, 0, _jsp_string126.length);
      out.print((detailsum));
      out.write(_jsp_string127, 0, _jsp_string127.length);
      
	  if(!trrigerfield.trim().equals("")){
		  ArrayList Linfieldname=ddi.GetInFieldName();
		  ArrayList Lcondetionfieldname=ddi.GetConditionFieldName();
		  for(int i=0;i<Linfieldname.size();i++){
			  String temp=(String)Linfieldname.get(i);
	  
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string129, 0, _jsp_string129.length);
      out.print((temp));
      out.write(_jsp_string130, 0, _jsp_string130.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string131, 0, _jsp_string131.length);
      
		  }
		  for(int i=0;i<Lcondetionfieldname.size();i++){
			  String temp=(String)Lcondetionfieldname.get(i);
	  
      out.write(_jsp_string128, 0, _jsp_string128.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string129, 0, _jsp_string129.length);
      out.print((temp));
      out.write(_jsp_string130, 0, _jsp_string130.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string131, 0, _jsp_string131.length);
      
		  }
		  }
	  
      out.write(_jsp_string132, 0, _jsp_string132.length);
      out.print((workflowid));
      out.write(_jsp_string123, 0, _jsp_string123.length);
      out.print((formid));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((isbill));
      out.write(_jsp_string125, 0, _jsp_string125.length);
      out.print((nodeid));
      out.write(_jsp_string126, 0, _jsp_string126.length);
      out.print((detailsum));
      out.write(_jsp_string133, 0, _jsp_string133.length);
      
	if(!trrigerdetailfield.trim().equals("")){
		ArrayList Linfieldname=ddi.GetInFieldName();
		ArrayList Lcondetionfieldname=ddi.GetConditionFieldName();
		for(int i=0;i<Linfieldname.size();i++){
			String temp=(String)Linfieldname.get(i);

  
      out.write(_jsp_string134, 0, _jsp_string134.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string135, 0, _jsp_string135.length);
      out.print((temp));
      out.write(_jsp_string130, 0, _jsp_string130.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string136, 0, _jsp_string136.length);
      
		}
		for(int i=0;i<Lcondetionfieldname.size();i++){
		  String temp=(String)Lcondetionfieldname.get(i);
  
      out.write(_jsp_string137, 0, _jsp_string137.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string138, 0, _jsp_string138.length);
      out.print((temp));
      out.write(_jsp_string130, 0, _jsp_string130.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string139, 0, _jsp_string139.length);
      
			}
		}
  
      out.write(_jsp_string140, 0, _jsp_string140.length);
      out.print((isbill));
      out.write(_jsp_string141, 0, _jsp_string141.length);
      out.print((isbill));
      out.write(_jsp_string142, 0, _jsp_string142.length);
      out.print((isbill));
      out.write(_jsp_string143, 0, _jsp_string143.length);
      out.print((isbill));
      out.write(_jsp_string144, 0, _jsp_string144.length);
      out.print((isbill));
      out.write(_jsp_string145, 0, _jsp_string145.length);
      out.print((docFlags));
      out.write(_jsp_string146, 0, _jsp_string146.length);
      out.print((formid));
      out.write(_jsp_string147, 0, _jsp_string147.length);
      out.print((isbill));
      out.write(_jsp_string148, 0, _jsp_string148.length);
      out.print((isbill));
      out.write(_jsp_string149, 0, _jsp_string149.length);
      out.print((docFlags));
      out.write(_jsp_string150, 0, _jsp_string150.length);
      out.print((docFlags));
      out.write(_jsp_string151, 0, _jsp_string151.length);
      out.print((docFlags));
      out.write(_jsp_string152, 0, _jsp_string152.length);
      out.print((SystemEnv.getHtmlLabelName(82, languageid)));
      out.write(_jsp_string153, 0, _jsp_string153.length);
      out.print((SystemEnv.getHtmlLabelName(82, languageid)));
      out.write(_jsp_string154, 0, _jsp_string154.length);
      out.print((SystemEnv.getHtmlLabelName(683, user.getLanguage())));
      out.write(_jsp_string155, 0, _jsp_string155.length);
      out.print((SystemEnv.getHtmlLabelName(18941, user.getLanguage())));
      out.write(_jsp_string156, 0, _jsp_string156.length);
      out.print((SystemEnv.getHtmlLabelName(683, user.getLanguage())));
      out.write(_jsp_string155, 0, _jsp_string155.length);
      out.print((SystemEnv.getHtmlLabelName(18942, user.getLanguage())));
      out.write(_jsp_string157, 0, _jsp_string157.length);
      out.print((SystemEnv.getHtmlLabelName(3005, user.getLanguage())));
      out.write(_jsp_string158, 0, _jsp_string158.length);
      out.print((SystemEnv.getHtmlLabelName(683, user.getLanguage())));
      out.write(_jsp_string155, 0, _jsp_string155.length);
      out.print((SystemEnv.getHtmlLabelName(18945, user.getLanguage())));
      out.write(_jsp_string159, 0, _jsp_string159.length);
      out.print((SystemEnv.getHtmlLabelName(683, user.getLanguage())));
      out.write(_jsp_string155, 0, _jsp_string155.length);
      out.print((SystemEnv.getHtmlLabelName(18943, user.getLanguage())));
      out.write(_jsp_string160, 0, _jsp_string160.length);
      out.print((SystemEnv.getHtmlLabelName(31181,user.getLanguage())));
      out.write(_jsp_string161, 0, _jsp_string161.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("workflow/request/WorkflowAddRequestHtml.jsp"), 420226099560602390L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string144;
  private final static char []_jsp_string63;
  private final static char []_jsp_string36;
  private final static char []_jsp_string76;
  private final static char []_jsp_string156;
  private final static char []_jsp_string101;
  private final static char []_jsp_string125;
  private final static char []_jsp_string67;
  private final static char []_jsp_string19;
  private final static char []_jsp_string141;
  private final static char []_jsp_string32;
  private final static char []_jsp_string94;
  private final static char []_jsp_string151;
  private final static char []_jsp_string160;
  private final static char []_jsp_string106;
  private final static char []_jsp_string64;
  private final static char []_jsp_string2;
  private final static char []_jsp_string100;
  private final static char []_jsp_string29;
  private final static char []_jsp_string41;
  private final static char []_jsp_string123;
  private final static char []_jsp_string26;
  private final static char []_jsp_string60;
  private final static char []_jsp_string110;
  private final static char []_jsp_string137;
  private final static char []_jsp_string11;
  private final static char []_jsp_string143;
  private final static char []_jsp_string118;
  private final static char []_jsp_string93;
  private final static char []_jsp_string147;
  private final static char []_jsp_string104;
  private final static char []_jsp_string56;
  private final static char []_jsp_string51;
  private final static char []_jsp_string103;
  private final static char []_jsp_string24;
  private final static char []_jsp_string12;
  private final static char []_jsp_string154;
  private final static char []_jsp_string69;
  private final static char []_jsp_string20;
  private final static char []_jsp_string152;
  private final static char []_jsp_string57;
  private final static char []_jsp_string132;
  private final static char []_jsp_string53;
  private final static char []_jsp_string43;
  private final static char []_jsp_string37;
  private final static char []_jsp_string98;
  private final static char []_jsp_string117;
  private final static char []_jsp_string75;
  private final static char []_jsp_string6;
  private final static char []_jsp_string122;
  private final static char []_jsp_string92;
  private final static char []_jsp_string45;
  private final static char []_jsp_string62;
  private final static char []_jsp_string5;
  private final static char []_jsp_string124;
  private final static char []_jsp_string88;
  private final static char []_jsp_string129;
  private final static char []_jsp_string23;
  private final static char []_jsp_string48;
  private final static char []_jsp_string55;
  private final static char []_jsp_string90;
  private final static char []_jsp_string4;
  private final static char []_jsp_string9;
  private final static char []_jsp_string138;
  private final static char []_jsp_string39;
  private final static char []_jsp_string82;
  private final static char []_jsp_string80;
  private final static char []_jsp_string31;
  private final static char []_jsp_string18;
  private final static char []_jsp_string159;
  private final static char []_jsp_string135;
  private final static char []_jsp_string42;
  private final static char []_jsp_string86;
  private final static char []_jsp_string153;
  private final static char []_jsp_string68;
  private final static char []_jsp_string89;
  private final static char []_jsp_string30;
  private final static char []_jsp_string85;
  private final static char []_jsp_string111;
  private final static char []_jsp_string49;
  private final static char []_jsp_string150;
  private final static char []_jsp_string8;
  private final static char []_jsp_string52;
  private final static char []_jsp_string155;
  private final static char []_jsp_string130;
  private final static char []_jsp_string84;
  private final static char []_jsp_string33;
  private final static char []_jsp_string142;
  private final static char []_jsp_string128;
  private final static char []_jsp_string139;
  private final static char []_jsp_string78;
  private final static char []_jsp_string73;
  private final static char []_jsp_string121;
  private final static char []_jsp_string66;
  private final static char []_jsp_string131;
  private final static char []_jsp_string133;
  private final static char []_jsp_string59;
  private final static char []_jsp_string146;
  private final static char []_jsp_string70;
  private final static char []_jsp_string34;
  private final static char []_jsp_string47;
  private final static char []_jsp_string149;
  private final static char []_jsp_string44;
  private final static char []_jsp_string3;
  private final static char []_jsp_string13;
  private final static char []_jsp_string136;
  private final static char []_jsp_string95;
  private final static char []_jsp_string161;
  private final static char []_jsp_string77;
  private final static char []_jsp_string105;
  private final static char []_jsp_string119;
  private final static char []_jsp_string96;
  private final static char []_jsp_string120;
  private final static char []_jsp_string99;
  private final static char []_jsp_string81;
  private final static char []_jsp_string27;
  private final static char []_jsp_string54;
  private final static char []_jsp_string87;
  private final static char []_jsp_string114;
  private final static char []_jsp_string115;
  private final static char []_jsp_string35;
  private final static char []_jsp_string10;
  private final static char []_jsp_string46;
  private final static char []_jsp_string7;
  private final static char []_jsp_string158;
  private final static char []_jsp_string21;
  private final static char []_jsp_string91;
  private final static char []_jsp_string0;
  private final static char []_jsp_string145;
  private final static char []_jsp_string28;
  private final static char []_jsp_string74;
  private final static char []_jsp_string97;
  private final static char []_jsp_string1;
  private final static char []_jsp_string148;
  private final static char []_jsp_string112;
  private final static char []_jsp_string16;
  private final static char []_jsp_string108;
  private final static char []_jsp_string38;
  private final static char []_jsp_string83;
  private final static char []_jsp_string102;
  private final static char []_jsp_string22;
  private final static char []_jsp_string126;
  private final static char []_jsp_string58;
  private final static char []_jsp_string157;
  private final static char []_jsp_string113;
  private final static char []_jsp_string15;
  private final static char []_jsp_string40;
  private final static char []_jsp_string72;
  private final static char []_jsp_string50;
  private final static char []_jsp_string65;
  private final static char []_jsp_string25;
  private final static char []_jsp_string17;
  private final static char []_jsp_string134;
  private final static char []_jsp_string116;
  private final static char []_jsp_string127;
  private final static char []_jsp_string109;
  private final static char []_jsp_string61;
  private final static char []_jsp_string71;
  private final static char []_jsp_string107;
  private final static char []_jsp_string79;
  private final static char []_jsp_string140;
  private final static char []_jsp_string14;
  static {
    _jsp_string144 = "&selectvalue=\"+pFieldValue+\"&isdetail=1&&rowindex=\"+rownum+\"&childvalue=\"+childvalue;\r\n				$G(\"iframe_\"+pFieldid+\"_\"+fieldid+\"_\"+rownum).src = \"SelectChange.jsp?\"+paraStr;\r\n			}\r\n		}\r\n	}catch(e){}\r\n}\r\nfunction doInitDetailchildSelectAdd(fieldid,pFieldid,rownum,childvalue){\r\n	try{\r\n		var pField = $G(\"field\"+pFieldid+\"_\"+rownum);\r\n		if(pField != null){\r\n			var pFieldValue = pField.value;\r\n			if(pFieldValue==null || pFieldValue==\"\"){\r\n				return;\r\n			}\r\n			if(pFieldValue!=null && pFieldValue!=\"\"){\r\n				var field = $G(\"field\"+fieldid+\"_\"+rownum);\r\n			    var paraStr = \"fieldid=\"+pFieldid+\"&childfieldid=\"+fieldid+\"&isbill=".toCharArray();
    _jsp_string63 = "&sql=\"+sql+\"&fieldid=\"+fieldidtmp,\r\n		dataType : \"xml\",\r\n		success: function do4Success(msg){\r\n			setFieldValueAjax(msg,thisfieldid,fieldidtmp,false);\r\n		}\r\n	});\r\n}\r\n\r\nfunction doFieldDateAjax(para, fieldidtmp, fieldExt){\r\n	var sql = para;\r\n	//alert(sql+\"&formid=".toCharArray();
    _jsp_string36 = "\",\r\n                \"subId\":\"".toCharArray();
    _jsp_string76 = "\r\n	    ".toCharArray();
    _jsp_string156 = "\";\r\n				} else if (shareTypeValue == \"3\") {\r\n					sHtml = sHtml\r\n							+ \",\"\r\n							+ shareTypeText\r\n							+ \"(\"\r\n							+ relatedShareNames\r\n							+ \")\"\r\n							+ \"".toCharArray();
    _jsp_string101 = "\r\n                        //\u9644\u4ef6\u4e0a\u4f20\r\n                        StartUploadAll();\r\n                        checkuploadcompletBydoc();\r\n".toCharArray();
    _jsp_string125 = "&node=".toCharArray();
    _jsp_string67 = " \");\r\n		}else{\r\n			alert(\"".toCharArray();
    _jsp_string19 = "\r\n						  <img src=\"/images/BacoError.gif\" align=absmiddle>\r\n						".toCharArray();
    _jsp_string141 = "&isdetail=0&selectvalue=\"+obj.value;\r\n    $G(\"selectChange\").src = \"SelectChange.jsp?\"+paraStr;\r\n    //alert($G(\"selectChange\").src);\r\n}\r\nfunction doInitChildSelect(fieldid,pFieldid,finalvalue){\r\n	try{\r\n		var pField = $G(\"field\"+pFieldid);\r\n		if(pField != null){\r\n			var pFieldValue = pField.value;\r\n			if(pFieldValue==null || pFieldValue==\"\"){\r\n				return;\r\n			}\r\n			if(pFieldValue!=null && pFieldValue!=\"\"){\r\n				var field = $G(\"field\"+fieldid);\r\n			    var paraStr = \"fieldid=\"+pFieldid+\"&childfieldid=\"+fieldid+\"&isbill=".toCharArray();
    _jsp_string32 = "</td>\r\n            <td class=field>\r\n            ".toCharArray();
    _jsp_string94 = ";\r\n		uploadspan = \"uploadspan\";\r\n  	}else{\r\n		checkMaxUpload = maxsize;\r\n  	}\r\n	$G(accname+'_num').value=parseInt($G(accname+'_num').value)+1;\r\n	var ncol = $G(accname+'_tab').cols;\r\n	var oRow = $G(accname+'_tab').insertRow(-1);\r\n	for(j=0; j<ncol; j++){\r\n		var oCell = oRow.insertCell(-1); \r\n		oCell.style.height=24;\r\n		switch(j){\r\n			case 1:\r\n				var oDiv = document.createElement(\"div\");\r\n				var sHtml = \"\";\r\n				oDiv.innerHTML = sHtml;\r\n				oCell.appendChild(oDiv);\r\n				break;\r\n	 		case 0:\r\n				var oDiv = document.createElement(\"div\");\r\n				var sHtml = \"<input class=InputStyle  type=file size=60 name='\"+accname+\"_\"+$G(accname+'_num').value+\"' onchange='accesoryChanage(this,\"+checkMaxUpload+\")'> (".toCharArray();
    _jsp_string151 = "\" == \"1\" && (funFlag == undefined || funFlag != 3)) {\r\n	                	var evt = getEvent();\r\n	               		var targetElement = evt.srcElement ? evt.srcElement : evt.target;\r\n	               		jQuery(targetElement).next(\"span[id=createNewDoc]\").html(\"\");\r\n	                }\r\n			   } else {\r\n					if (ismand == 0) {\r\n						$GetEle(\"field\"+id+\"span\").innerHTML = \"\";\r\n					} else {\r\n						$GetEle(\"field\"+id+\"span\").innerHTML =\"<img src='/images/BacoError.gif' align=absmiddle>\"\r\n					}\r\n					$GetEle(\"field\"+id).value=\"\";\r\n					if (type1 == 9 && \"".toCharArray();
    _jsp_string160 = "\";\r\n				}\r\n\r\n			}\r\n			\r\n			sHtml = sHtml.substr(1);\r\n			fileIdValue = fileIdValue.substr(1);\r\n\r\n			$GetEle(\"field\" + id).value = fileIdValue;\r\n			$GetEle(\"field\" + id + \"span\").innerHTML = sHtml;\r\n		} else {\r\n			if (ismand == 0) {\r\n				$GetEle(\"field\" + id + \"span\").innerHTML = \"\";\r\n			} else {\r\n				$GetEle(\"field\" + id + \"span\").innerHTML = \"<img src='/images/BacoError.gif' align=absmiddle>\";\r\n			}\r\n			$GetEle(\"field\" + id).value = \"\";\r\n	    }\r\n	} \r\n}\r\n//-->\r\n</script>\r\n<script language=\"javascript\">\r\nfunction getNumber(index){\r\n  	$G(\"field_lable\"+index).value = $G(\"field\"+index).value;\r\n}\r\nfunction numberToChinese(index){\r\n	if($G(\"field_lable\"+index).value != \"\"){\r\n	$G(\"field_lable\"+index).value = floatFormat($G(\"field_lable\"+index).value);\r\n	$G(\"field\"+index).value = $G(\"field_lable\"+index).value;\r\n	$G(\"field_lable\"+index).value = numberChangeToChinese($G(\"field_lable\"+index).value);\r\n	}\r\n	else{\r\n	$G(\"field\"+index).value = \"\";\r\n	}\r\n}\r\nvar tableformatted = false;\r\nvar needformatted = true;\r\nfunction formatTables(){\r\n	if(needformatted){\r\n		jQuery(\"table[name^='oTable']\").each(function(i,n){\r\n			tableformatted = true;\r\n			formatTable(n);\r\n		});\r\n		jQuery(\"table[name^='oTable']\").bind(\"resize\",function(){\r\n			formatTable(this);\r\n		});\r\n	}\r\n}\r\n//\u975eie\u80fd\u6b63\u5e38\u89e6\u53d1\u4e8b\u4ef6\r\njQuery(document).ready(function(){\r\n	var l = new Listener();\r\n	l.load(\"input[type=hidden][_listener!='']\");\r\n	l.start(500, \"_listener\");\r\n});\r\n\r\njQuery(document).ready(function(){\r\n	try{\r\n		createTags();\r\n	}catch(e){}\r\n	formatTables();	\r\n});\r\n\r\nvar msgWarningJinEConvert = \"".toCharArray();
    _jsp_string106 = "\r\n			if(ischeckok==\"true\"){\r\n				if(!check_form(document.frmmain,'remarkText10404')){\r\n					ischeckok=\"false\";\r\n				}\r\n			}\r\n".toCharArray();
    _jsp_string64 = "&fieldid=\"+fieldidtmp);\r\n	var thisfieldid = \"0\"+fieldExt;\r\n	jQuery.ajax({\r\n		url : \"/workflow/request/WfFieldDateAjax.jsp\",\r\n		type : \"post\",\r\n		processData : false,\r\n		data : sql+\"&formid=".toCharArray();
    _jsp_string2 = "\r\n<SCRIPT language=\"javascript\" defer=\"defer\" src=\"/js/JSDateTime/WdatePicker.js\"></script>\r\n<SCRIPT language=\"javascript\" src=\"/workflow/request/js/requesthtml.js\"></script>\r\n\r\n<script type=\"text/javascript\" src=\"/wui/common/js/ckeditor/ckeditor.js\"></script>\r\n<script type=\"text/javascript\" src=\"/wui/common/js/ckeditor/ckeditorext.js\"></script>\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/plugin/Listener.js\"></script>\r\n".toCharArray();
    _jsp_string100 = "\");\r\n							}\r\n							return ;\r\n						}\r\n".toCharArray();
    _jsp_string29 = "</td>\r\n			<td class=field>\r\n				<input type=\"hidden\" id=\"signworkflowids\" name=\"signworkflowids\">\r\n				<button type=button  class=Browser onclick=\"onShowSignBrowser('/workflow/request/MultiRequestBrowser.jsp','/workflow/request/ViewRequest.jsp?isrequest=1&requestid=','signworkflowids','signworkflowspan',152)\" title=\"".toCharArray();
    _jsp_string41 = " MB\",\r\n            file_types : \"*.*\",\r\n            file_types_description : \"All Files\",\r\n            file_upload_limit : 100,\r\n            file_queue_limit : 0,\r\n            custom_settings : {\r\n                progressTarget : \"fsUploadProgressannexupload\",\r\n                cancelButtonId : \"btnCancelannexupload\",\r\n                uploadfiedid:\"field-annexupload\"\r\n            },\r\n            debug: false,\r\n\r\n\r\n            // Button settings\r\n\r\n            button_image_url : \"/js/swfupload/add.png\",    // Relative to the SWF file\r\n            button_placeholder_id : \"spanButtonPlaceHolderannexupload\",\r\n\r\n            button_width: 100,\r\n            button_height: 18,\r\n            button_text : '<span class=\"button\">".toCharArray();
    _jsp_string123 = "&formid=".toCharArray();
    _jsp_string26 = "</td>\r\n			<td class=field>\r\n				<input type=\"hidden\" id=\"signdocids\" name=\"signdocids\">\r\n				<button type=button  class=Browser onclick=\"onShowSignBrowser('/docs/docs/MutiDocBrowser.jsp','/docs/docs/DocDsp.jsp?isrequest=1&id=','signdocids','signdocspan',37)\" title=\"".toCharArray();
    _jsp_string60 = "&nodeid=".toCharArray();
    _jsp_string110 = "\");\r\n							}\r\n							displayAllmenu();\r\n							return ;\r\n						}\r\n".toCharArray();
    _jsp_string137 = "\r\n			if($G(\"".toCharArray();
    _jsp_string11 = "\">".toCharArray();
    _jsp_string143 = "&selectvalue=\"+obj.value+\"&isdetail=1&&rowindex=\"+rownum;\r\n    $G(\"selectChangeDetail\").src = \"SelectChange.jsp?\"+paraStr;\r\n    //alert($G(\"selectChange\").src);\r\n}\r\nfunction doInitDetailchildSelect(fieldid,pFieldid,rownum,childvalue){\r\n	try{\r\n		var pField = $G(\"field\"+pFieldid+\"_\"+rownum);\r\n		if(pField != null){\r\n			var pFieldValue = pField.value;\r\n			if(pFieldValue==null || pFieldValue==\"\"){\r\n				return;\r\n			}\r\n			if(pFieldValue!=null && pFieldValue!=\"\"){\r\n				var field = $G(\"field\"+fieldid+\"_\"+rownum);\r\n				var frm = document.createElement(\"iframe\");\r\n				frm.id = \"iframe_\"+pFieldid+\"_\"+fieldid+\"_\"+rownum;\r\n				frm.style.display = \"none\";\r\n			    document.body.appendChild(frm);\r\n			    var paraStr = \"fieldid=\"+pFieldid+\"&childfieldid=\"+fieldid+\"&isbill=".toCharArray();
    _jsp_string118 = "\");\r\n					displayAllmenu();\r\n					return;\r\n				}\r\n			}\r\n		}\r\n\r\n//\u4fdd\u5b58\u7b7e\u7ae0\u6570\u636e\r\n".toCharArray();
    _jsp_string93 = ")\";\r\n				}\r\n			}\r\n		}\r\n	}\r\n}\r\nfunction addannexRow(accname,maxsize){\r\n	//\u533a\u5206\u4e24\u79cd\u6dfb\u52a0\u65b9\u5f0f\r\n	var uploadspan = \"\";\r\n	var checkMaxUpload = 0;\r\n	if(accname!=\"field-annexupload\"){\r\n		maxsize = ".toCharArray();
    _jsp_string147 = "\";\r\n	}\r\n	\r\n	if (type1 == 2 || type1 == 19 ) {\r\n	    spanname = \"field\" + id + \"span\";\r\n	    inputname = \"field\" + id;\r\n	    \r\n		if (type1 == 2) {\r\n			onFlownoShowDate(spanname,inputname,ismand);\r\n		} else {\r\n			onWorkFlowShowTime(spanname, inputname, ismand);\r\n		}\r\n	} else {\r\n	    if (type1 != 162 && type1 != 171 && type1 != 152 && type1 != 142 && type1 != 135 && type1 != 17 && type1 != 18 && type1!=27 && type1!=37 && type1!=56 && type1!=57 && type1!=65 && type1!=165 && type1!=166 && type1!=167 && type1!=168 && type1!=4 && type1!=167 && type1!=164 && type1!=169 && type1!=170) {\r\n	    	if (wuiUtil.isNotNull(funFlag) && funFlag == 3) {\r\n	    		id1 = window.showModalDialog(url, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n	    	} else {\r\n			    if (type1 == 161||type1 == 224||type1 == 225||type1 == 226||type1 == 227) {\r\n				    id1 = window.showModalDialog(url + \"|\" + id, window, \"dialogWidth=550px;dialogHeight=550px\");\r\n				} else {\r\n					id1 = window.showModalDialog(url, window, \"dialogWidth=550px;dialogHeight=550px\");\r\n				}\r\n	    	}\r\n		} else {\r\n	        if (type1 == 135) {\r\n				tmpids = $GetEle(\"field\"+id).value;\r\n				id1 = window.showModalDialog(url + \"?projectids=\" + tmpids, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n	        //} else if (type1 == 4 || type1 == 167 || type1 == 164 || type1 == 169 || type1 == 170) {\r\n	        //type1 = 167 \u662f:\u5206\u6743\u5355\u90e8\u95e8-\u5206\u90e8 \u4e0d\u5e94\u8be5\u5305\u542b\u5728\u8fd9\u91cc\u9762 ypc 2012-09-06 \u4fee\u6539\r\n	        } else if (type1 == 4 || type1 == 164 || type1 == 169 || type1 == 170) {\r\n		        tmpids = $GetEle(\"field\"+id).value;\r\n				id1 = window.showModalDialog(url + \"?selectedids=\" + tmpids, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n	        } else if (type1 == 37) {\r\n		        tmpids = $GetEle(\"field\"+id).value;\r\n				id1 = window.showModalDialog(url + \"?documentids=\" + tmpids, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n	        } else if (type1 == 142 ) {\r\n		        tmpids = $GetEle(\"field\"+id).value;\r\n				id1 = window.showModalDialog(url + \"?receiveUnitIds=\" + tmpids, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n			} else if (type1 == 162 ) {\r\n				tmpids = $GetEle(\"field\"+id).value;\r\n\r\n				if (wuiUtil.isNotNull(funFlag) && funFlag == 3) {\r\n					url = url + \"&beanids=\" + tmpids;\r\n					url = url.substring(0, url.indexOf(\"url=\") + 4) + escape(url.substr(url.indexOf(\"url=\") + 4));\r\n					id1 = window.showModalDialog(url, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n				} else {\r\n					url = url + \"|\" + id + \"&beanids=\" + tmpids;\r\n					url = url.substring(0, url.indexOf(\"url=\") + 4) + escape(url.substr(url.indexOf(\"url=\") + 4));\r\n					id1 = window.showModalDialog(url, window, \"dialogWidth=550px;dialogHeight=550px\");\r\n				}\r\n			} else if (type1 == 165 || type1 == 166 || type1 == 167 || type1 == 168 ) {\r\n		        index = (id + \"\").indexOf(\"_\");\r\n		        if (index != -1) {\r\n		        	tmpids=uescape(\"?isdetail=1&isbill=".toCharArray();
    _jsp_string104 = "!\");\r\n			displayAllmenu();\r\n    		return false;\r\n    	}\r\n	\r\n		var ischeckok=\"\";\r\n\r\n		try{\r\n		if(check_form(document.frmmain,$G(\"needcheck\").value+$G(\"inputcheck\").value))\r\n		  ischeckok=\"true\";\r\n		}catch(e){\r\n		  ischeckok=\"false\";\r\n		}\r\n		if(ischeckok==\"false\"){\r\n			if(check_form(document.frmmain,'".toCharArray();
    _jsp_string56 = "\">\r\n<input type=hidden name =\"inputcheck\" value=\"\">\r\n\r\n<input type=hidden name =\"isMultiDoc\" value=\"\"><!--\u591a\u6587\u6863\u65b0\u5efa-->\r\n\r\n<input type=hidden name =\"requestid\" value=\"-1\">\r\n<input type=hidden name=\"rand\" value=\"".toCharArray();
    _jsp_string51 = "\">   <!--\u5de5\u4f5c\u6d41\u7c7b\u578b-->\r\n<input type=hidden name=\"nodeid\" value=\"".toCharArray();
    _jsp_string103 = "\"+nodenum+\"".toCharArray();
    _jsp_string24 = "\r\n\r\n	</tr>\r\n	 <tr style=\"height:1px;\"><td class=Line2 colSpan=2></td></tr>\r\n	 ".toCharArray();
    _jsp_string12 = "</option>\r\n				".toCharArray();
    _jsp_string154 = "</button>\");\r\n					}\r\n			   }\r\n			}\r\n		}\r\n	}\r\n}\r\n\r\nfunction onShowResourceRole(id, url, linkurl, type1, ismand, roleid) {\r\n	var tmpids = $GetEle(\"field\" + id).value;\r\n	url = url + roleid + \"_\" + tmpids;\r\n\r\n	id1 = window.showModalDialog(url);\r\n	if (id1) {\r\n\r\n		if (wuiUtil.getJsonValueByIndex(id1, 0) != \"\"\r\n				&& wuiUtil.getJsonValueByIndex(id1, 0) != \"0\") {\r\n\r\n			var resourceids = wuiUtil.getJsonValueByIndex(id1, 0);\r\n			var resourcename = wuiUtil.getJsonValueByIndex(id1, 1);\r\n			var sHtml = \"\";\r\n\r\n			resourceids = resourceids.substr(1);\r\n			resourcename = resourcename.substr(1);\r\n\r\n			$GetEle(\"field\" + id).value = resourceids;\r\n\r\n			var idArray = resourceids.split(\",\");\r\n			var nameArray = resourcename.split(\",\");\r\n			for ( var _i = 0; _i < idArray.length; _i++) {\r\n				var curid = idArray[_i];\r\n				var curname = nameArray[_i];\r\n\r\n				sHtml = sHtml + \"<a href=\" + linkurl + curid\r\n						+ \" target='_new'>\" + curname + \"</a>&nbsp\";\r\n			}\r\n\r\n			$GetEle(\"field\" + id + \"span\").innerHTML = sHtml;\r\n\r\n		} else {\r\n			if (ismand == 0) {\r\n				$GetEle(\"field\" + id + \"span\").innerHTML = \"\";\r\n			} else {\r\n				$GetEle(\"field\" + id + \"span\").innerHTML = \"<img src='/images/BacoError.gif' align=absmiddle>\";\r\n			}\r\n			$GetEle(\"field\" + id).value = \"\";\r\n		}\r\n	}\r\n}\r\n\r\n\r\nfunction onShowResourceConditionBrowser(id, url, linkurl, type1, ismand) {\r\n	var tmpids = $GetEle(\"field\" + id).value;\r\n	var dialogId = window.showModalDialog(url + \"?resourceCondition=\" + tmpids);\r\n	if ((dialogId)) {\r\n		if (wuiUtil.getJsonValueByIndex(dialogId, 0) != \"\") {\r\n			var shareTypeValues = wuiUtil.getJsonValueByIndex(dialogId, 0);\r\n			var shareTypeTexts = wuiUtil.getJsonValueByIndex(dialogId, 1);\r\n			var relatedShareIdses = wuiUtil.getJsonValueByIndex(dialogId, 2);\r\n			var relatedShareNameses = wuiUtil.getJsonValueByIndex(dialogId, 3);\r\n			var rolelevelValues = wuiUtil.getJsonValueByIndex(dialogId, 4);\r\n			var rolelevelTexts = wuiUtil.getJsonValueByIndex(dialogId, 5);\r\n			var secLevelValues = wuiUtil.getJsonValueByIndex(dialogId, 6);\r\n			var secLevelTexts = wuiUtil.getJsonValueByIndex(dialogId, 7);\r\n\r\n			var sHtml = \"\";\r\n			var fileIdValue = \"\";\r\n			\r\n			var shareTypeValueArray = shareTypeValues.split(\"~\");\r\n			var shareTypeTextArray = shareTypeTexts.split(\"~\");\r\n			var relatedShareIdseArray = relatedShareIdses.split(\"~\");\r\n			var relatedShareNameseArray = relatedShareNameses.split(\"~\");\r\n			var rolelevelValueArray = rolelevelValues.split(\"~\");\r\n			var rolelevelTextArray = rolelevelTexts.split(\"~\");\r\n			var secLevelValueArray = secLevelValues.split(\"~\");\r\n			var secLevelTextArray = secLevelTexts.split(\"~\");\r\n			for ( var _i = 0; _i < shareTypeValueArray.length; _i++) {\r\n				var shareTypeValue = shareTypeValueArray[_i];\r\n				var shareTypeText = shareTypeTextArray[_i];\r\n				var relatedShareIds = relatedShareIdseArray[_i];\r\n				var relatedShareNames = relatedShareNameseArray[_i];\r\n				var rolelevelValue = rolelevelValueArray[_i];\r\n				var rolelevelText = rolelevelTextArray[_i];\r\n				var secLevelValue = secLevelValueArray[_i];\r\n				var secLevelText = secLevelTextArray[_i];\r\n				if (shareTypeValue == \"\") {\r\n					continue;\r\n				}\r\n				fileIdValue = fileIdValue + \"~\" + shareTypeValue + \"_\"\r\n						+ relatedShareIds + \"_\" + rolelevelValue + \"_\"\r\n						+ secLevelValue;\r\n				\r\n				if (shareTypeValue == \"1\") {\r\n					sHtml = sHtml + \",\" + shareTypeText + \"(\"\r\n							+ relatedShareNames + \")\";\r\n				} else if (shareTypeValue == \"2\") {\r\n					sHtml = sHtml\r\n							+ \",\"\r\n							+ shareTypeText\r\n							+ \"(\"\r\n							+ relatedShareNames\r\n							+ \")\"\r\n							+ \"".toCharArray();
    _jsp_string69 = ") {\r\n		alert(\"".toCharArray();
    _jsp_string20 = "\r\n				  </span>\r\n			  </td>\r\n	  		   	<script defer>\r\n	  		   	function funcremark_log(){\r\n					CkeditorExt.initEditor(\"frmmain\",\"remark\",".toCharArray();
    _jsp_string152 = "\" == \"1\" && (funFlag == undefined || funFlag != 3)) {\r\n						var evt = getEvent();\r\n	               		var targetElement = evt.srcElement ? evt.srcElement : evt.target;\r\n	               		jQuery(targetElement).next(\"span[id=createNewDoc]\").html(\"<button type=button id='createdoc' class=AddDocFlow onclick=createDoc(\" + id + \",'','1') title='".toCharArray();
    _jsp_string57 = "\">\r\n<input type=hidden name=\"needoutprint\" value=\"\">\r\n<iframe name=\"delzw\" width=0 height=0></iframe>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<SCRIPT language=\"javascript\">\r\nfunction initFieldValue(fieldid){\r\n	var fieldid4Sql = fieldid;\r\n	var fieldExt = \"\";\r\n	if(fieldid.indexOf(\"_\") > -1){\r\n		fieldExt = fieldid.substr(fieldid.indexOf(\"_\"), fieldid.length);\r\n		fieldid4Sql = fieldid.substr(0, fieldid.indexOf(\"_\"));\r\n	}\r\n	var sqlcontent = \"\";\r\n	try{\r\n		sqlcontent = $G(\"fieldsql\"+fieldid4Sql).value;\r\n		sqlcontent = sqlcontent.replace(/\\+/g, \"%2B\");\r\n		sqlcontent = sqlcontent.replace(/\\&/g, \"%26\");\r\n\r\n	}catch(e){}\r\n	var sql = \"\";\r\n	var index = sqlcontent.indexOf(\"$\");\r\n	while(index > -1){\r\n		try{\r\n			sql += sqlcontent.substr(0, index);\r\n			sqlcontent = sqlcontent.substr(index+1, sqlcontent.length);\r\n			var tailindex = sqlcontent.indexOf(\"$\");\r\n			var sourceFieldid = sqlcontent.substr(0, tailindex);\r\n			var sourceFieldValue = \"\";\r\n			try{\r\n				if(sourceFieldid == \"-1\"){\r\n					sourceFieldValue = jQuery(\"[name=requestname]\").val();\r\n				}else if(sourceFieldid == \"2\"){\r\n					sourceFieldValue = jQuery(\"[name=requestlevel]\").val();\r\n				}else if(sourceFieldid == \"-3\"){\r\n					sourceFieldValue = jQuery(\"[name=messageType]\").val();\r\n				}else if(sourceFieldid.toLowerCase() == \"requestid\"){\r\n					sourceFieldValue = \"".toCharArray();
    _jsp_string132 = "\r\n	  }\r\n	  //alert(StrData);\r\n	  $G(\"datainputform\").src=\"DataInputFrom.jsp?\"+StrData;\r\n	  //xmlhttp.open(\"POST\", \"DataInputFrom.jsp\", false);\r\n	  //xmlhttp.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n	  //xmlhttp.send(StrData);\r\n  }\r\nfunction datainputd(parfield){				<!--\u6570\u636e\u5bfc\u5165-->\r\n\r\n  //var xmlhttp=XmlHttp.create();\r\n  var tempParfieldArr = parfield.split(\",\");\r\n	var StrData=\"id=".toCharArray();
    _jsp_string53 = "\">			   <!--\u8868\u5355\u7684id-->\r\n<input type=hidden name =\"topage\" value=\"".toCharArray();
    _jsp_string43 = "</font><!--\u6e05\u9664\u6240\u6709\u9009\u62e9--></span>\r\n								</span><span>(".toCharArray();
    _jsp_string37 = "\",\r\n                \"secId\":\"".toCharArray();
    _jsp_string98 = "\"+\"\\\"\"+\"".toCharArray();
    _jsp_string117 = "\"==201){//\u8d44\u4ea7\u62a5\u5e9f\u5355\u636e\u660e\u7ec6\u4e2d\u7684\u8d44\u4ea7\u62a5\u5e9f\u6570\u91cf\u5927\u4e8e\u5e93\u5b58\u6570\u91cf\uff0c\u4e0d\u80fd\u63d0\u4ea4\u3002\r\n			nodesnum = $G(\"nodesnum\").value;\r\n			for(var tempindex1=0;tempindex1<nodesnum;tempindex1++){\r\n				var capitalcount = $G(\"node_\"+tempindex1+\"_capitalcount\").value*1;\r\n				var fetchingnumber=$G(\"node_\"+tempindex1+\"_number\").value*1;\r\n				for(var tempindex2=0;tempindex2<nodesnum;tempindex2++){\r\n					if(tempindex2!=tempindex1&&$G(\"node_\"+tempindex1+\"_capitalid\").value==$G(\"node_\"+tempindex2+\"_capitalid\").value){\r\n						fetchingnumber = fetchingnumber*1 + $G(\"node_\"+tempindex2+\"_number\").value*1;\r\n					}\r\n				}\r\n				if(fetchingnumber>capitalcount){\r\n					alert(\"".toCharArray();
    _jsp_string75 = "').value;\r\n					nodesnum = nodesnum*1;\r\n					if(rowneed == \"1\") {\r\n						if(nodesnum>0) {\r\n							return 0;\r\n						} else {\r\n							return 1;\r\n						}\r\n					} else {\r\n						return 0;\r\n					}\r\n	   	".toCharArray();
    _jsp_string6 = "</td>\r\n	  <td style=\"text-align:right;\">\r\n	  <!-- modify by xhheng @20050308 for TD 1692 -->\r\n		 ".toCharArray();
    _jsp_string122 = "\";\r\n	  datainput(tempS);\r\n  }\r\n  function getWFLinknum(wffiledname){\r\n		if($G(wffiledname) != null){\r\n			return $G(wffiledname).value;\r\n		}else{\r\n			return 0;\r\n		}\r\n	}\r\n  function datainput(parfield){				<!--\u6570\u636e\u5bfc\u5165-->\r\n	  //var xmlhttp=XmlHttp.create();\r\n	  var tempParfieldArr = parfield.split(\",\");\r\n	  var StrData=\"id=".toCharArray();
    _jsp_string92 = "\"+uploadImageMaxSize+\"".toCharArray();
    _jsp_string45 = ">\r\n              <input type=hidden name='annexsubId' value=".toCharArray();
    _jsp_string62 = "\r\n\r\n\r\nfunction doSqlFieldAjax(obj,fieldids){\r\n	\r\n	var thisfieldid = \"\";\r\n	try{\r\n		if(obj.id.indexOf(\"field\") > -1){//\u666e\u901a\u5b57\u6bb5\r\n			thisfieldid = obj.id.substring(5);\r\n		}else{\r\n			if(obj.name == \"requestname\"){\r\n				thisfieldid = \"-1\";\r\n			}else if(obj.name == \"requestlevel\"){\r\n				thisfieldid = \"-2\";\r\n			}else if(obj.name == \"messageType\"){\r\n				thisfieldid = \"-3\";\r\n			}\r\n		}\r\n	}catch(e){}\r\n	if(thisfieldid == \"\"){\r\n		return;\r\n	}\r\n	var fieldExt = \"\";\r\n	if(thisfieldid.indexOf(\"_\") > -1){\r\n		fieldExt = thisfieldid.substr(thisfieldid.indexOf(\"_\"), thisfieldid.length);\r\n	}\r\n	var fieldidsz = fieldids.split(\",\");\r\n	for(var i=0; i<fieldidsz.length; i++){\r\n		var fieldidtmp = fieldidsz[i];\r\n		if(fieldidtmp==null || fieldidtmp==\"\"){\r\n			continue;\r\n		}\r\n		doFieldAjax(thisfieldid,fieldidtmp,fieldExt);\r\n	}\r\n}\r\n\r\nfunction doFieldAjax(thisfieldid,fieldidtmp,fieldExt){\r\n	var sql = \"\";\r\n	var sqlcontent = \"\";\r\n	try{\r\n		sqlcontent = $G(\"fieldsql\"+fieldidtmp).value;\r\n		sqlcontent = sqlcontent.replace(/\\+/g, \"%2B\");\r\n		sqlcontent = sqlcontent.replace(/\\&/g, \"%26\");\r\n	}catch(e){}\r\n	var index = sqlcontent.indexOf(\"$\");\r\n	while(index > -1){\r\n		try{\r\n			sql += sqlcontent.substr(0, index);\r\n			sqlcontent = sqlcontent.substr(index+1, sqlcontent.length);\r\n			var tailindex = sqlcontent.indexOf(\"$\");\r\n			var sourceFieldid = sqlcontent.substr(0, tailindex);\r\n			var sourceFieldValue = \"\";\r\n			try{\r\n				if(sourceFieldid == \"-1\"){\r\n					sourceFieldValue = jQuery(\"[name=requestname]\").val();\r\n				}else if(sourceFieldid == \"2\"){\r\n					sourceFieldValue = jQuery(\"[name=requestlevel]\").val();\r\n				}else if(sourceFieldid == \"-3\"){\r\n					sourceFieldValue = jQuery(\"[name=messageType]\").val();\r\n				}else if(sourceFieldid.toLowerCase() == \"requestid\"){\r\n					sourceFieldValue = \"".toCharArray();
    _jsp_string5 = "</font></td>\r\n	</tr>\r\n	<tr>\r\n	  <td >".toCharArray();
    _jsp_string124 = "&bill=".toCharArray();
    _jsp_string88 = "\r\n    checkfilesize(oUpload".toCharArray();
    _jsp_string129 = "\")) StrData+=\"&".toCharArray();
    _jsp_string23 = "\r\n					CkeditorExt.toolbarExpand(false,\"remark\");\r\n				}\r\n	  		 	if (window.addEventListener){\r\n	  			    window.addEventListener(\"load\", funcremark_log, false);\r\n	  			}else if (window.attachEvent){\r\n	  			    window.attachEvent(\"onload\", funcremark_log);\r\n	  			}else{\r\n	  			    window.onload=funcremark_log;\r\n	  			}	\r\n				//funcremark_log();\r\n				</script>\r\n			  \r\n".toCharArray();
    _jsp_string48 = "\r\n  </table>\r\n\r\n".toCharArray();
    _jsp_string55 = "\">			<!--\u662f\u5426\u5355\u636e 0:\u5426 1:\u662f-->\r\n<input type=hidden name =\"method\">								<!--\u65b0\u5efa\u6587\u6863\u65f6\u5019 method \u4e3adocnew-->\r\n<input type=hidden name =\"needcheck\" value=\"".toCharArray();
    _jsp_string90 = ");\r\n    ".toCharArray();
    _jsp_string4 = "\r\n<!-- \u7b7e\u5b57\u610f\u89c1 -->\r\n<table class=\"ViewForm\" >\r\n<colgroup>\r\n	<col width=\"20%\">\r\n	<col width=\"80%\">\r\n</colgroup>\r\n	<tr class=\"Title\">\r\n	  <td colspan=2 align=\"center\" valign=\"middle\"><font style=\"font-size:14pt;FONT-WEIGHT: bold\">".toCharArray();
    _jsp_string9 = "\uff0d\uff0d</option>\r\n				".toCharArray();
    _jsp_string138 = "_\"+indexid)) StrData+=\"&".toCharArray();
    _jsp_string39 = "\",\r\n                \"logintype\":\"".toCharArray();
    _jsp_string82 = "\";\r\n//\u586b\u5145\u9009\u62e9\u76ee\u5f55\u7684\u9644\u4ef6\u5927\u5c0f\u4fe1\u606f\r\nvar selectValues = new Array();\r\nvar maxUploads = new Array();\r\nvar uploadCategorys=new Array();\r\nfunction setMaxUploadInfo()\r\n{\r\n".toCharArray();
    _jsp_string80 = "\r\n	} catch(e) {\r\n		return 0;\r\n	}\r\n}\r\n\r\n//\u9ed8\u8ba4\u5927\u5c0f\r\nvar uploadImageMaxSize = ".toCharArray();
    _jsp_string31 = "\r\n		  <tr>\r\n            <td>".toCharArray();
    _jsp_string18 = "></textarea>\r\n			  </td>\r\n			  <!-- HTML\u6a21\u677f\u7684\u65b0\u5efa -->\r\n			 <td style=\"text-align:left;\">\r\n				  <span id=\"remarkSpan\">\r\n						".toCharArray();
    _jsp_string159 = "\";\r\n				} else {\r\n					sHtml = sHtml\r\n							+ \",\"\r\n							+ \"".toCharArray();
    _jsp_string135 = "_\"+indexid)!=null) StrData+=\"&".toCharArray();
    _jsp_string42 = "</span>',\r\n            button_text_style : '.button { font-family: Helvetica, Arial, sans-serif; font-size: 12pt; } .buttonSmall { font-size: 10pt; }',\r\n            button_text_top_padding: 0,\r\n            button_text_left_padding: 18,\r\n\r\n            button_window_mode: SWFUpload.WINDOW_MODE.TRANSPARENT,\r\n            button_cursor: SWFUpload.CURSOR.HAND,\r\n\r\n            // The event handler functions are defined in handlers.js\r\n            file_queued_handler : fileQueued,\r\n            file_queue_error_handler : fileQueueError,\r\n            file_dialog_complete_handler : fileDialogComplete_2,\r\n            upload_start_handler : uploadStart,\r\n            upload_progress_handler : uploadProgress,\r\n            upload_error_handler : uploadError,\r\n            upload_success_handler : uploadSuccess_1,\r\n            upload_complete_handler : uploadComplete_1,\r\n            queue_complete_handler : queueComplete    // Queue plugin event\r\n        };\r\n\r\n\r\n        try {\r\n            oUploadannexupload=new SWFUpload(settings);\r\n        } catch(e) {\r\n            alert(e)\r\n        }\r\n    }\r\n        	//window.attachEvent(\"onload\", fileuploadannexupload);\r\n          if (window.addEventListener){\r\n			    window.addEventListener(\"load\", fileuploadannexupload, false);\r\n			}else if (window.attachEvent){\r\n			    window.attachEvent(\"onload\", fileuploadannexupload);\r\n			}else{\r\n			    window.onload=fileuploadannexupload;\r\n			}	\r\n        </script>\r\n      <TABLE class=\"ViewForm\">\r\n          <tr>\r\n              <td colspan=\"2\">\r\n                  <div>\r\n                      <span>\r\n                      <span id=\"spanButtonPlaceHolderannexupload\"></span><!--\u9009\u53d6\u591a\u4e2a\u6587\u4ef6-->\r\n                      </span>\r\n                      &nbsp;&nbsp;\r\n								<span style=\"color:#262626;cursor:hand;TEXT-DECORATION:none\" disabled onclick=\"oUploadannexupload.cancelQueue();\" id=\"btnCancelannexupload\">\r\n									<span><img src=\"/js/swfupload/delete.gif\" border=\"0\"></span>\r\n									<span style=\"height:19px\"><font style=\"margin:0 0 0 -1\">".toCharArray();
    _jsp_string86 = "');\r\n".toCharArray();
    _jsp_string153 = "'>".toCharArray();
    _jsp_string68 = " \");\r\n		}\r\n		createAndRemoveObj(obj);\r\n		return  ;\r\n	}\r\n	if (fileLenth==-1) {\r\n		createAndRemoveObj(obj);\r\n		return ;\r\n	}\r\n	var fileLenthByM = (fileLenth/(1024*1024)).toFixed(1)\r\n	if (fileLenthByM>".toCharArray();
    _jsp_string89 = ",uploadImageMaxSize,uploaddocCategory);\r\n    showmustinput(oUpload".toCharArray();
    _jsp_string30 = "\"></button>\r\n				<span id=\"signworkflowspan\"></span>\r\n			</td>\r\n		  </tr>\r\n		  <tr style=\"height:1px;\"><td class=Line2 colSpan=2></td></tr>\r\n		 ".toCharArray();
    _jsp_string85 = "');\r\n        uploadCategorys.push('".toCharArray();
    _jsp_string111 = "\r\n						//TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u5f00\u59cb\r\n						var content=\"".toCharArray();
    _jsp_string49 = "\r\n\r\n<!--TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u5f00\u59cb-->\r\n<div id='_xTable' style='background:#FFFFFF;padding:3px;width:100%' valign='top'>\r\n</div>\r\n<!--TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u7ed3\u675f-->\r\n<iframe id=\"selectChangeDetail\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>\r\n<iframe id=\"selectChange\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>\r\n<iframe id=\"datainputform\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>\r\n<iframe id=\"datainputformdetail\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\" ></iframe>\r\n<iframe id=\"workflowKeywordIframe\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>\r\n\r\n<input type=hidden name=\"workflowid\" value=\"".toCharArray();
    _jsp_string150 = "\" == \"1\" && (funFlag == undefined || funFlag != 3)) {\r\n		                tempid = wuiUtil.getJsonValueByIndex(id1, 0);\r\n		                $GetEle(\"field\" + id + \"span\").innerHTML = \"<a href='#' onclick='createDoc(\" + id + \", \" + tempid + \", 1)'>\" + wuiUtil.getJsonValueByIndex(id1, 1) + \"</a><button type=button id='createdoc' style='display:none' class=AddDocFlow onclick=createDoc(\" + id + \", \" + tempid + \",1)></button>\";\r\n	               } else {\r\n	            	    if (linkurl == \"\") {\r\n				        	$GetEle(\"field\" + id + \"span\").innerHTML = wuiUtil.getJsonValueByIndex(id1, 1);\r\n				        } else {\r\n							if (linkurl == \"/hrm/resource/HrmResource.jsp?id=\") {\r\n								$GetEle(\"field\"+id+\"span\").innerHTML = \"<a href=javaScript:openhrm(\"+ wuiUtil.getJsonValueByIndex(id1, 0) + \"); onclick='pointerXY(event);'>\" + wuiUtil.getJsonValueByIndex(id1, 1) + \"</a>&nbsp\";\r\n							} else {\r\n								$GetEle(\"field\"+id+\"span\").innerHTML = \"<a href=\" + linkurl + wuiUtil.getJsonValueByIndex(id1, 0) + \" target='_new'>\"+ wuiUtil.getJsonValueByIndex(id1, 1) + \"</a>\";\r\n							}\r\n				        }\r\n	               }\r\n	               $GetEle(\"field\"+id).value = wuiUtil.getJsonValueByIndex(id1, 0);\r\n	                if (type1 == 9 && \"".toCharArray();
    _jsp_string8 = "\r\n				<select class=inputstyle  id=\"phraseselect\" name=phraseselect style=\"width:80%\" onChange='onAddPhrase(this.value)' onmousewheel=\"return false;\">\r\n				<option value=\"\">\uff0d\uff0d".toCharArray();
    _jsp_string52 = "\">			   <!--\u5f53\u524d\u8282\u70b9id-->\r\n<input type=hidden name=\"nodetype\" value=\"0\">					 <!--\u5f53\u524d\u8282\u70b9\u7c7b\u578b-->\r\n<input type=hidden name=\"src\">									<!--\u64cd\u4f5c\u7c7b\u578b save\u548csubmit,reject,delete-->\r\n<input type=hidden name=\"iscreate\" value=\"1\">					 <!--\u662f\u5426\u4e3a\u521b\u5efa\u8282\u70b9 \u662f:1 \u5426 0 -->\r\n<input type=hidden name=\"formid\" value=\"".toCharArray();
    _jsp_string155 = ">=\"\r\n							+ secLevelValue\r\n							+ \"".toCharArray();
    _jsp_string130 = "=\"+$G(\"".toCharArray();
    _jsp_string84 = "');\r\n		maxUploads.push('".toCharArray();
    _jsp_string33 = "\r\n           <font color=\"red\"> ".toCharArray();
    _jsp_string142 = "&isdetail=0&selectvalue=\"+pFieldValue+\"&childvalue=\"+finalvalue;\r\n				var frm = document.createElement(\"iframe\");\r\n				frm.id = \"iframe_\"+pFieldid+\"_\"+fieldid+\"_00\";\r\n				frm.style.display = \"none\";\r\n			    document.body.appendChild(frm);\r\n				$G(\"iframe_\"+pFieldid+\"_\"+fieldid+\"_00\").src = \"SelectChange.jsp?\"+paraStr;\r\n			}\r\n		}\r\n	}catch(e){}\r\n}\r\nfunction changeChildFieldDetail(obj, fieldid, childfieldid, rownum){\r\n    var paraStr = \"fieldid=\"+fieldid+\"&childfieldid=\"+childfieldid+\"&isbill=".toCharArray();
    _jsp_string128 = "\r\n		  if($G(\"".toCharArray();
    _jsp_string139 = "_\"+indexid).value;\r\n  ".toCharArray();
    _jsp_string78 = "').value;\r\n			var nodesnum = $G('nodesnum".toCharArray();
    _jsp_string73 = "\r\n					var rowneed = $G('rowneed".toCharArray();
    _jsp_string121 = "\r\n			}\r\n		} else {\r\n			displayAllmenu();\r\n		}\r\n	}\r\n\r\n  setTimeout(\"doTriggerInit()\",1000);\r\n  function doTriggerInit(){\r\n	  var tempS = \"".toCharArray();
    _jsp_string66 = "');\r\n		if(e.message==\"Type mismatch\"||e.message==\"\u7c7b\u578b\u4e0d\u5339\u914d\"){\r\n			alert(\"".toCharArray();
    _jsp_string131 = "\").value;\r\n	  ".toCharArray();
    _jsp_string133 = "&trg=\"+parfield;\r\n\r\n	for(var i=0;i<tempParfieldArr.length;i++){\r\n      	var tempParfield = tempParfieldArr[i];\r\n      	var indexid=tempParfield.substr(tempParfield.indexOf(\"_\")+1);\r\n\r\n  ".toCharArray();
    _jsp_string59 = "&isbill=".toCharArray();
    _jsp_string146 = "\" == \"1\" ) {\r\n        if (wuiUtil.isNotNull(funFlag) && funFlag == 3) {\r\n        	url = \"/systeminfo/BrowserMain.jsp?url=/docs/docs/DocBrowser.jsp\"\r\n        } else {\r\n	    	url = \"/systeminfo/BrowserMain.jsp?url=/docs/docs/DocBrowserWord.jsp\";\r\n        }\r\n	}\r\n	\r\n	if (type1 == 23) {\r\n		url += \"?billid=".toCharArray();
    _jsp_string70 = "\"+fileLenthByM+\"M,".toCharArray();
    _jsp_string34 = "!</font>\r\n           ".toCharArray();
    _jsp_string47 = ">\r\n          </td>\r\n          </tr>\r\n          <tr style=\"height:1px;\"><td class=Line2 colSpan=2></td></tr>\r\n         ".toCharArray();
    _jsp_string149 = "&resourceids=\" + $GetEle(\"field\" + id).value+\"&selectedids=\"+$GetEle(\"field\"+id).value);\r\n		        	id1 = window.showModalDialog(url + tmpids, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n		        }\r\n			} else {\r\n		        tmpids = $GetEle(\"field\" + id).value;\r\n				id1 = window.showModalDialog(url + \"?resourceids=\" + tmpids, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n			}\r\n		}\r\n	    if (id1 != undefined && id1 != null) {\r\n			if (type1 == 171 || type1 == 152 || type1 == 142 || type1 == 135 || type1 == 17 || type1 == 18 || type1==27 || type1==37 || type1==56 || type1==57 || type1==65 || type1==166 || type1==168 || type1==170) {\r\n				if (wuiUtil.getJsonValueByIndex(id1, 0) != \"\" && wuiUtil.getJsonValueByIndex(id1, 0) != \"0\" ) {\r\n					var resourceids = wuiUtil.getJsonValueByIndex(id1, 0);\r\n					var resourcename = wuiUtil.getJsonValueByIndex(id1, 1);\r\n					var sHtml = \"\"\r\n\r\n					resourceids = resourceids.substr(1);\r\n					resourcename = resourcename.substr(1);\r\n					\r\n					var resourceIdArray = resourceids.split(\",\");\r\n					var resourceNameArray = resourcename.split(\",\");\r\n					for (var _i=0; _i<resourceIdArray.length; _i++) {\r\n						var curid = resourceIdArray[_i];\r\n						var curname = resourceNameArray[_i];\r\n						if (linkurl == \"/hrm/resource/HrmResource.jsp?id=\") {\r\n							sHtml += \"<a href=javaScript:openhrm(\" + curid + \"); onclick='pointerXY(event);'>\" + curname + \"</a>&nbsp\";\r\n						} else {\r\n							sHtml += \"<a href=\" + linkurl + curid + \" target=_blank>\" + curname + \"</a>&nbsp\";\r\n						}\r\n					}\r\n					$GetEle(\"field\" + id + \"span\").innerHTML = sHtml;\r\n					$GetEle(\"field\" + id).value= resourceids;\r\n				} else {\r\n 					if (ismand == 0) {\r\n 						$GetEle(\"field\"+id+\"span\").innerHTML = \"\";\r\n 					} else {\r\n 						$GetEle(\"field\"+id+\"span\").innerHTML = \"<img src='/images/BacoError.gif' align=absmiddle>\";\r\n 					}\r\n 					$GetEle(\"field\"+id).value = \"\";\r\n				}\r\n\r\n			} else {\r\n				//zzl\r\n				var id0lflag = true;\r\n				if(wuiUtil.getJsonValueByIndex(id1, 1) != \"\"){\r\n					id0lflag = true;\r\n				}else{\r\n					if(wuiUtil.getJsonValueByIndex(id1, 0) != \"0\"){\r\n						id0lflag = true;\r\n					}else{\r\n						id0lflag = false;\r\n					}\r\n				}\r\n				//zzl\r\n			   if (wuiUtil.getJsonValueByIndex(id1, 0) != \"\" && id0lflag ) {\r\n	               if (type1 == 162) {\r\n				   		var ids = wuiUtil.getJsonValueByIndex(id1, 0);\r\n						var names = wuiUtil.getJsonValueByIndex(id1, 1);\r\n						var descs = wuiUtil.getJsonValueByIndex(id1, 2);\r\n						var href = wuiUtil.getJsonValueByIndex(id1, 3);\r\n						sHtml = \"\"\r\n						ids = ids.substr(1);\r\n						$GetEle(\"field\"+id).value= ids;\r\n						\r\n						names = names.substr(1);\r\n						descs = descs.substr(1);\r\n						var idArray = ids.split(\",\");\r\n						var nameArray = names.split(\",\");\r\n						var descArray = descs.split(\",\");\r\n						for (var _i=0; _i<idArray.length; _i++) {\r\n							var curid = idArray[_i];\r\n							var curname = nameArray[_i];\r\n							var curdesc = descArray[_i];\r\n							if(href==''){\r\n								sHtml += \"<a title='\" + curdesc + \"' >\" + curname + \"</a>&nbsp\";\r\n							}else{\r\n								sHtml += \"<a title='\" + curdesc + \"' href='\" + href + curid + \"' target='_blank'>\" + curname + \"</a>&nbsp\";\r\n							}\r\n						}\r\n						\r\n						$GetEle(\"field\" + id + \"span\").innerHTML = sHtml;\r\n						return;\r\n	               }\r\n				   if (type1 == 161) {\r\n					   	var ids = wuiUtil.getJsonValueByIndex(id1, 0);\r\n					   	var names = wuiUtil.getJsonValueByIndex(id1, 1);\r\n						var descs = wuiUtil.getJsonValueByIndex(id1, 2);\r\n						var href = wuiUtil.getJsonValueByIndex(id1, 3);\r\n						$GetEle(\"field\"+id).value = ids;\r\n						if(href==''){\r\n							sHtml = \"<a title='\" + descs + \"'>\" + names + \"</a>&nbsp\";\r\n						}else{\r\n							sHtml = \"<a title='\" + descs + \"' href='\" + href + ids + \"' target='_blank'>\" + names + \"</a>&nbsp\";\r\n						}\r\n						$GetEle(\"field\" + id + \"span\").innerHTML = sHtml\r\n						return ;\r\n				   }\r\n	               if (type1 == 9 && \"".toCharArray();
    _jsp_string44 = ")</span>\r\n                  </div>\r\n                  <input  class=InputStyle  type=hidden size=60 name=\"field-annexupload\" >\r\n              </td>\r\n          </tr>\r\n          <tr>\r\n              <td colspan=\"2\">\r\n                  <div class=\"fieldset flash\" id=\"fsUploadProgressannexupload\">\r\n                  </div>\r\n                  <div id=\"divStatusannexupload\"></div>\r\n              </td>\r\n          </tr>\r\n      </TABLE>\r\n              <input type=hidden name='annexmainId' value=".toCharArray();
    _jsp_string3 = "\r\n\r\n<input type=hidden name=\"workflowRequestLogId\" value=\"-1\">\r\n".toCharArray();
    _jsp_string13 = "\r\n				</select>\r\n\r\n		  ".toCharArray();
    _jsp_string136 = "_\"+indexid).value;\r\n\r\n  ".toCharArray();
    _jsp_string95 = "\"+maxsize+\"".toCharArray();
    _jsp_string161 = "\";\r\n</script>\r\n<script type=\"text/javascript\" language=\"javascript\" src=\"/js/datetime.js\"></script>\r\n<script type=\"text/javascript\" language=\"javascript\" src=\"/js/selectDateTime.js\"></script>".toCharArray();
    _jsp_string77 = "\r\n			var rowneed = $G('rowneed".toCharArray();
    _jsp_string105 = "'))\r\n				ischeckok=\"true\";\r\n		}\r\n\r\n".toCharArray();
    _jsp_string119 = "\";\r\n							showPrompt(content);\r\n							//TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u7ed3\u675f\r\n\r\n							obj.disabled=true;\r\n							//\u9644\u4ef6\u4e0a\u4f20\r\n							StartUploadAll();\r\n							checkuploadcomplet();\r\n						}else{\r\n							if(isDocEmpty==1){\r\n								alert(\"\\\"\"+\"".toCharArray();
    _jsp_string96 = ") \";\r\n				oDiv.innerHTML = sHtml;\r\n				oCell.appendChild(oDiv);\r\n				break;\r\n		}\r\n	}\r\n}\r\n/*\r\nfunction funcClsDateTime(){\r\n	var onlstr = new clsDateTime();\r\n}				\r\n\r\nif (window.addEventListener){\r\n    window.addEventListener(\"load\", funcClsDateTime, false);\r\n}else if (window.attachEvent){\r\n    window.attachEvent(\"onload\", funcClsDateTime);\r\n}else{\r\n    window.onload=funcClsDateTime;\r\n}*/\r\n\r\n\r\nfunction createDoc(fieldbodyid,docVlaue,tempDocView){\r\n	\r\n	/*\r\n   for(i=0;i<=1;i++){\r\n  		parent.$G(\"oTDtype_\"+i).background=\"/images/tab2.png\";\r\n  		parent.$G(\"oTDtype_\"+i).className=\"cycleTD\";\r\n  	}\r\n  	parent.$G(\"oTDtype_1\").background=\"/images/tab.active2.png\";\r\n  	parent.$G(\"oTDtype_1\").className=\"cycleTDCurrent\";\r\n	*/\r\n	var _isagent = \"\";\r\n    var _beagenter = \"\";\r\n	if($G(\"_isagent\")!=null) _isagent=$G(\"_isagent\").value;\r\n    if($G(\"_beagenter\")!=null) _beagenter=$G(\"_beagenter\").value;\r\n  	frmmain.action = \"RequestOperation.jsp?isagent=\"+_isagent+\"&beagenter=\"+_beagenter+\"&docView=1&docValue=\"+docVlaue;\r\n    frmmain.method.value = \"crenew_\"+fieldbodyid ;\r\n    frmmain.target=\"delzw\";\r\n    parent.delsave();\r\n	if(check_form(document.frmmain,'requestname')){\r\n		if($G(\"needoutprint\")) $G(\"needoutprint\").value = \"1\";//\u6807\u8bc6\u70b9\u6b63\u6587\r\n        document.frmmain.src.value='save';\r\n\r\n//\u4fdd\u5b58\u7b7e\u7ae0\u6570\u636e\r\n".toCharArray();
    _jsp_string120 = "\";\r\n						showPrompt(content);\r\n						//TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u7ed3\u675f\r\n\r\n						obj.disabled=true;\r\n						//\u9644\u4ef6\u4e0a\u4f20\r\n						StartUploadAll();\r\n						checkuploadcomplet();\r\n".toCharArray();
    _jsp_string99 = "\");\r\n								isDocEmpty=0;\r\n							}else{\r\n								alert(\"".toCharArray();
    _jsp_string81 = ";\r\nvar uploaddocCategory=\"".toCharArray();
    _jsp_string27 = "\"></button>\r\n				<span id=\"signdocspan\"></span>\r\n			</td>\r\n		  </tr>\r\n		  <tr style=\"height:1px;\"><td class=Line2 colSpan=2></td></tr>\r\n		 ".toCharArray();
    _jsp_string54 = "\">			<!--\u521b\u5efa\u7ed3\u675f\u540e\u8fd4\u56de\u7684\u9875\u9762-->\r\n<input type=hidden name =\"isbill\" value=\"".toCharArray();
    _jsp_string87 = "\r\n}\r\nsetMaxUploadInfo();\r\n//\u76ee\u5f55\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u91cd\u65b0\u68c0\u6d4b\u6587\u4ef6\u5927\u5c0f\r\nfunction reAccesoryChanage()\r\n{\r\n	".toCharArray();
    _jsp_string114 = "!\");\r\n			displayAllmenu();\r\n    		return false;\r\n    	}\r\n	\r\n	  //modify by xhheng @20050328 for TD 1703\r\n	  //\u660e\u7ec6\u90e8\u5fc5\u586bcheck\uff0c\u901a\u8fc7try $G(\"needcheck\")\u6765\u68c0\u67e5,\u907f\u514d\u5bf9\u539f\u6709\u65e0\u660e\u7ec6\u5355\u636e\u7684\u4fee\u6539\r\n	  \r\n\r\n		if(!checkCustomize()){\r\n			displayAllmenu();\r\n			return false;\r\n		}\r\n\r\n		var ischeckok=\"\";\r\n		try{\r\n		if(check_form(document.frmmain,$G(\"needcheck\").value+$G(\"inputcheck\").value))\r\n		  ischeckok=\"true\";\r\n		}catch(e){\r\n		  ischeckok=\"false\";\r\n		}\r\n		if(ischeckok==\"false\"){\r\n		  if(check_form(document.frmmain,'".toCharArray();
    _jsp_string115 = "'))\r\n			ischeckok=\"true\";\r\n		}\r\n\r\n".toCharArray();
    _jsp_string35 = "\r\n            <script>\r\n          var oUploadannexupload;\r\n          function fileuploadannexupload() {\r\n        var settings = {\r\n            flash_url : \"/js/swfupload/swfupload.swf\",\r\n            upload_url: \"/docs/docupload/MultiDocUploadByWorkflow.jsp\",    // Relative to the SWF file\r\n            post_params: {\r\n                \"mainId\":\"".toCharArray();
    _jsp_string10 = "\r\n					<option value=\"".toCharArray();
    _jsp_string46 = ">\r\n              <input type=hidden name='annexsecId' value=".toCharArray();
    _jsp_string7 = "\r\n		".toCharArray();
    _jsp_string158 = "=\"\r\n							+ rolelevelText\r\n							+ \"  ".toCharArray();
    _jsp_string21 = ",CkeditorExt.NO_IMAGE, 200);\r\n				".toCharArray();
    _jsp_string91 = "\r\n}\r\n//\u9009\u62e9\u76ee\u5f55\u65f6\uff0c\u6539\u53d8\u5bf9\u5e94\u4fe1\u606f\r\nfunction changeMaxUpload(fieldid)\r\n{\r\n	var efieldid = $G(fieldid);\r\n	if(efieldid)\r\n	{\r\n		var tselectValue = efieldid.value;\r\n		for(var i = 0;i<selectValues.length;i++)\r\n		{\r\n			var value = selectValues[i];\r\n			if(value == tselectValue)\r\n			{\r\n				uploadImageMaxSize = parseFloat(maxUploads[i]);\r\n                uploaddocCategory=uploadCategorys[i];\r\n			}\r\n		}\r\n		if(tselectValue==\"\")\r\n		{\r\n			uploadImageMaxSize = 5;\r\n		}\r\n		var euploadspans = document.getElementsByTagName(\"SPAN\");\r\n		if(euploadspans)\r\n		{\r\n			for(var j=0;j<euploadspans.length;j++)\r\n			{\r\n				var euploadid = euploadspans[j].id;\r\n				if(euploadid&&euploadid==\"uploadspan\")\r\n				{\r\n					euploadspans[j].innerHTML = \"(".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string145 = "&selectvalue=\"+pFieldValue+\"&isdetail=1&&rowindex=\"+rownum+\"&childvalue=\"+childvalue;\r\n				$G(\"iframe_\"+pFieldid+\"_\"+fieldid).src = \"SelectChange.jsp?\"+paraStr;\r\n			}\r\n		}\r\n	}catch(e){}\r\n}\r\n</script>\r\n\r\n<script type=\"text/javascript\">\r\n//<!--\r\nfunction onShowBrowser3(id,url,linkurl,type1,ismand) {\r\n	onShowBrowser2(id, url, linkurl, type1, ismand, 3);\r\n}\r\nfunction onShowBrowser2(id,url,linkurl,type1,ismand, funFlag) {\r\n	var id1 = null;\r\n	\r\n    if (type1 == 9  && \"".toCharArray();
    _jsp_string28 = "\r\n	 ".toCharArray();
    _jsp_string74 = "').value;\r\n					var nodesnum = $G('nodesnum".toCharArray();
    _jsp_string97 = "\r\n	                    if(SaveSignature()){\r\n                            //\u9644\u4ef6\u4e0a\u4f20\r\n                            StartUploadAll();\r\n                            checkuploadcompletBydoc();\r\n                        }else{\r\n							if(isDocEmpty==1){\r\n								alert(\"\\\"\"+\"".toCharArray();
    _jsp_string1 = "\r\n".toCharArray();
    _jsp_string148 = "&fieldid=\" + id.substring(0, index) + \"&resourceids=\" + $GetEle(\"field\"+id).value+\"&selectedids=\"+$GetEle(\"field\"+id).value);\r\n		        	id1 = window.showModalDialog(url + tmpids, \"\", \"dialogWidth=550px;dialogHeight=550px\");\r\n		        } else {\r\n		        	tmpids = uescape(\"?fieldid=\" + id + \"&isbill=".toCharArray();
    _jsp_string112 = "\";\r\n						showPrompt(content);\r\n						//TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u7ed3\u675f\r\n						//\u9644\u4ef6\u4e0a\u4f20\r\n						StartUploadAll();\r\n						checkuploadcomplet();\r\n".toCharArray();
    _jsp_string16 = "\"  ".toCharArray();
    _jsp_string108 = "\r\n						if(SaveSignature()){\r\n							//TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u5f00\u59cb\r\n							var content=\"".toCharArray();
    _jsp_string38 = "\",\r\n                \"userid\":\"".toCharArray();
    _jsp_string83 = "\r\n		selectValues.push('".toCharArray();
    _jsp_string102 = "\r\n\r\n    }\r\n}\r\nfunction onNewDoc(fieldbodyid) {\r\n\r\n	frmmain.action = \"RequestOperation.jsp\" ;\r\n	frmmain.method.value = \"docnew_\"+fieldbodyid ;\r\n	frmmain.isMultiDoc.value = fieldbodyid ;\r\n	if(check_form(document.frmmain,'requestname')){\r\n         //\u9644\u4ef6\u4e0a\u4f20\r\n         StartUploadAll();\r\n		document.frmmain.src.value='save';\r\n		checkuploadcomplet();\r\n	}\r\n}\r\n\r\n\r\n	function doSave(){			  <!-- \u70b9\u51fb\u4fdd\u5b58\u6309\u94ae -->\r\n		enableAllmenu();\r\n	    var nodenum = checkNodesNumFun();\r\n    	if(nodenum>0) {\r\n    		alert(\"".toCharArray();
    _jsp_string22 = "\r\n					CkeditorExt.checkText(\"remarkSpan\",\"remark\");\r\n				".toCharArray();
    _jsp_string126 = "&detailsum=".toCharArray();
    _jsp_string58 = "\";\r\n				}else{\r\n					sourceFieldValue = $G(\"field\"+sourceFieldid+fieldExt).value;\r\n				}\r\n			}catch(e){}\r\n			sql += sourceFieldValue;\r\n			sqlcontent = sqlcontent.substr(tailindex+1, sqlcontent.length);\r\n		}catch(e){}\r\n		index = sqlcontent.indexOf(\"$\");\r\n	}\r\n	sql += sqlcontent;\r\n	sql = sql.replace(new RegExp(\"%\",\"gm\"), \"%25\");\r\n	sql = escape(sql);\r\n	jQuery.ajax({\r\n		url : \"/workflow/request/WfFieldAttrAjax.jsp\",\r\n		type : \"post\",\r\n		processData : false,\r\n		data : \"formid=".toCharArray();
    _jsp_string157 = "\";\r\n				} else if (shareTypeValue == \"4\") {\r\n					sHtml = sHtml\r\n							+ \",\"\r\n							+ shareTypeText\r\n							+ \"(\"\r\n							+ relatedShareNames\r\n							+ \")\"\r\n							+ \"".toCharArray();
    _jsp_string113 = "\r\n				}\r\n			} else {\r\n				displayAllmenu();\r\n			}\r\n	}\r\n\r\n	/*	\r\n	 *	\u7528\u6765\u7ed9\u7528\u6237\u81ea\u5b9a\u4e49\u68c0\u67e5\u6570\u636e\uff0c\u5728\u6d41\u7a0b\u63d0\u4ea4\u6216\u8005\u4fdd\u5b58\u7684\u65f6\u5019\u6267\u884c\u8be5\u51fd\u6570\uff0c\r\n	 *	\u5982\u679c\u68c0\u67e5\u901a\u8fc7\u8fd4\u56detrue\uff0c\u5426\u5219\u8fd4\u56defalse\r\n	 *	\u7528\u6237\u5728\u4f7f\u7528html\u6a21\u677f\u7684\u65f6\u5019\uff0c\u901a\u8fc7\u91cd\u5199\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u6765\u8fbe\u5230\u68c0\u67e5\u7279\u6b8a\u6570\u636e\u7684\u9700\u6c42\r\n	 */\r\n	function checkCustomize(){\r\n		return true;\r\n	}\r\n	\r\n	function doSubmit(obj){			<!-- \u70b9\u51fb\u63d0\u4ea4 -->\r\n		enableAllmenu();\r\n	    var nodenum = checkNodesNumFun();\r\n    	if(nodenum>0) {\r\n    		alert(\"".toCharArray();
    _jsp_string15 = "\" value=\"\">\r\n			  <textarea class=Inputstyle name=remark id=remark rows=4 cols=40 style=\"width=80%;display:none\" class=Inputstyle temptitle=\"".toCharArray();
    _jsp_string40 = "\"\r\n            },\r\n            file_size_limit :\"".toCharArray();
    _jsp_string72 = "\r\n				var rowneed = $G('rowneed').value;\r\n				var nodesnum = $G('nodesnum').value;\r\n				nodesnum = nodesnum*1;\r\n				if(rowneed==\"1\") {\r\n					if(nodesnum>0) {\r\n						return 0;\r\n					} else {\r\n						return 1;\r\n					}\r\n				} else {\r\n					return 0;\r\n				}\r\n		".toCharArray();
    _jsp_string50 = "\">	   <!--\u5de5\u4f5c\u6d41id-->\r\n<input type=hidden name=\"workflowtype\" value=\"".toCharArray();
    _jsp_string65 = "&fieldid=\"+fieldidtmp,\r\n		dataType : \"xml\",\r\n		success: function do4Success(msg){\r\n			setFieldValueAjax(msg,thisfieldid,fieldidtmp,false);\r\n		}\r\n	});\r\n}\r\n\r\nfunction accesoryChanage(obj){\r\n	var objValue = obj.value;\r\n	if (objValue==\"\") return ;\r\n	var fileLenth;\r\n	try {\r\n		File.FilePath=objValue;\r\n		fileLenth= File.getFileSize();\r\n	} catch (e){\r\n		//alert('".toCharArray();
    _jsp_string25 = "\r\n		  <tr>\r\n			<td>".toCharArray();
    _jsp_string17 = "onChange=\"checkinput('remark','remarkSpan')\"".toCharArray();
    _jsp_string134 = "\r\n		if($G(\"".toCharArray();
    _jsp_string116 = "\r\n\r\n		if(ischeckok==\"true\"){\r\n			CkeditorExt.updateContent();\r\n			if(checktimeok()) {\r\n				document.frmmain.src.value='submit';\r\n				jQuery($GetEle(\"flowbody\")).attr(\"onbeforeunload\", \"\");//added by xwj for td3247 20051201\r\n\r\n		if(\"".toCharArray();
    _jsp_string127 = "&trg=\"+parfield;\r\n	  for(var i=0;i<tempParfieldArr.length;i++){\r\n	  	var tempParfield = tempParfieldArr[i];\r\n	  ".toCharArray();
    _jsp_string109 = "\";\r\n							showPrompt(content);\r\n							//TD4262 \u589e\u52a0\u63d0\u793a\u4fe1\u606f  \u7ed3\u675f\r\n							//\u9644\u4ef6\u4e0a\u4f20\r\n							StartUploadAll();\r\n							checkuploadcomplet();\r\n						}else{\r\n							if(isDocEmpty==1){\r\n								alert(\"\\\"\"+\"".toCharArray();
    _jsp_string61 = "&sql=\"+sql+\"&fieldid=\"+fieldid,\r\n		dataType : \"xml\",\r\n		success: function do4Success(msg){\r\n			setFieldValueAjax(msg,fieldid,fieldid,true);//\u5176\u4e2d\u7b2c2\u4e2afieldid\uff0c\u53ea\u662f\u7528\u6765\u533a\u5206\u5f53\u524d\u5b57\u6bb5\u662f\u4e3b\u5b57\u6bb5\u8fd8\u662f\u660e\u7ec6\u5b57\u6bb5\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\u7528fieldid\u4ee3\u66ff\r\n		}\r\n	});\r\n}\r\n\r\n".toCharArray();
    _jsp_string71 = "\");\r\n		createAndRemoveObj(obj);\r\n	}\r\n}\r\n\r\n</script>\r\n<SCRIPT language=\"javascript\">\r\n\r\nfunction checkNodesNumFun() {\r\n	try {\r\n		".toCharArray();
    _jsp_string107 = "\r\n		if(ischeckok==\"true\"){\r\n			CkeditorExt.updateContent();\r\n			if(checktimeok()) {\r\n					document.frmmain.src.value='save';\r\n					jQuery($GetEle(\"flowbody\")).attr(\"onbeforeunload\", \"\");//added by xwj for td3247 20051201\r\n\r\n\r\n//\u4fdd\u5b58\u7b7e\u7ae0\u6570\u636e\r\n".toCharArray();
    _jsp_string79 = "').value;\r\n			nodesnum = nodesnum*1;\r\n			if(rowneed==\"1\") {\r\n				if(nodesnum>0) {\r\n					return 0;\r\n				} else{\r\n					return 1;\r\n				}\r\n			} else {\r\n				return 0;\r\n			}\r\n	".toCharArray();
    _jsp_string140 = "\r\n  }\r\n\r\n	$G(\"datainputformdetail\").src=\"DataInputFromDetail.jsp?\"+StrData;\r\n  //xmlhttp.open(\"POST\", \"DataInputFrom.jsp\", false);\r\n  //xmlhttp.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n  //xmlhttp.send(StrData);\r\n}\r\n\r\n\r\nif (window.addEventListener){\r\n	window.addEventListener(\"load\", showfieldpop, false);\r\n}else if (window.attachEvent){\r\n	window.attachEvent(\"onload\", showfieldpop);\r\n}else{\r\n	window.onload=showfieldpop;\r\n}\r\n\r\nfunction changeChildField(obj, fieldid, childfieldid){\r\n    var paraStr = \"fieldid=\"+fieldid+\"&childfieldid=\"+childfieldid+\"&isbill=".toCharArray();
    _jsp_string14 = "\r\n				<input type=\"hidden\" id=\"remarkText10404\" name=\"remarkText10404\" temptitle=\"".toCharArray();
  }
}
