INSERT INTO HtmlLabelIndex values(19804,'帐户名称') 
GO
INSERT INTO HtmlLabelIndex values(19805,'邮件地址') 
GO
INSERT INTO HtmlLabelInfo VALUES(19804,'帐户名称',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19804,'Account Name',8) 
GO
INSERT INTO HtmlLabelInfo VALUES(19805,'邮件地址',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19805,'EMail Address',8) 
GO
INSERT INTO HtmlLabelIndex values(19806,'服务器信息') 
GO
INSERT INTO HtmlLabelIndex values(19807,'是否保留服务器上的邮件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19806,'服务器信息',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19806,'Server Information',8) 
GO
INSERT INTO HtmlLabelInfo VALUES(19807,'是否保留服务器上的邮件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19807,'If hold the mails in MailServer',8) 
GO
INSERT INTO HtmlLabelIndex values(19810,'添加密送') 
GO
INSERT INTO HtmlLabelIndex values(19809,'添加抄送') 
GO
INSERT INTO HtmlLabelInfo VALUES(19809,'添加抄送',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19809,'Add CC',8) 
GO
INSERT INTO HtmlLabelInfo VALUES(19810,'添加密送',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19810,'Add BCC',8) 
GO
INSERT INTO HtmlLabelIndex values(19811,'邮件格式') 
GO
INSERT INTO HtmlLabelInfo VALUES(19811,'邮件格式',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19811,'Mail Content Format',8) 
GO
INSERT INTO HtmlLabelIndex values(19812,'添加附件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19812,'添加附件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19812,'Add Attachment',8) 
GO
INSERT INTO HtmlLabelIndex values(19814,'家庭住址') 
GO
INSERT INTO HtmlLabelInfo VALUES(19814,'家庭住址',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19814,'Home Address',8) 
GO
INSERT INTO HtmlLabelIndex values(19815,'以逗号为分隔符的CSV文件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19815,'以逗号为分隔符的CSV文件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19815,'CSV',8) 
GO
INSERT INTO HtmlLabelIndex values(19816,'收件箱') 
GO
INSERT INTO HtmlLabelInfo VALUES(19816,'收件箱',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19816,'Inbox',8) 
GO
INSERT INTO HtmlLabelIndex values(19817,'已删除邮件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19817,'已删除邮件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19817,'Trash',8) 
GO
INSERT INTO HtmlLabelIndex values(19818,'正在登录') 
GO
INSERT INTO HtmlLabelInfo VALUES(19818,'正在登录',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19818,'Login',8) 
GO
INSERT INTO HtmlLabelIndex values(19819,'请稍候') 
GO
INSERT INTO HtmlLabelInfo VALUES(19819,'请稍候',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19819,'Please wait',8) 
GO
INSERT INTO HtmlLabelIndex values(19820,'标记为未读') 
GO
INSERT INTO HtmlLabelInfo VALUES(19820,'标记为未读',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19820,'UnRead',8) 
GO
INSERT INTO HtmlLabelIndex values(19821,'导出文档') 
GO
INSERT INTO HtmlLabelInfo VALUES(19821,'导出文档',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19821,'Export to document',8) 
GO
INSERT INTO HtmlLabelIndex values(19822,'导出客户联系') 
GO
INSERT INTO HtmlLabelInfo VALUES(19822,'导出客户联系',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19822,'Export to CRM contract',8) 
GO
INSERT INTO HtmlLabelIndex values(19823,'收取邮件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19823,'收取邮件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19823,'Get Mail',8) 
GO
INSERT INTO HtmlLabelIndex values(19824,'邮件查询') 
GO
INSERT INTO HtmlLabelInfo VALUES(19824,'邮件查询',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19824,'Search Mail',8) 
GO
INSERT INTO HtmlLabelIndex values(19825,'文件夹名称') 
GO
INSERT INTO HtmlLabelInfo VALUES(19825,'文件夹名称',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19825,'Folder Name',8) 
GO
INSERT INTO HtmlLabelIndex values(19826,'组名称') 
GO
INSERT INTO HtmlLabelInfo VALUES(19826,'组名称',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19826,'Group Name',8) 
GO
INSERT INTO HtmlLabelIndex values(19827,'重命名') 
GO
INSERT INTO HtmlLabelInfo VALUES(19827,'重命名',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19827,'Rename',8) 
GO
INSERT INTO HtmlLabelIndex values(19828,'邮件规则') 
GO
INSERT INTO HtmlLabelInfo VALUES(19828,'邮件规则',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19828,'Mail Rule',8) 
GO
INSERT INTO HtmlLabelIndex values(19829,'规则名称') 
GO
INSERT INTO HtmlLabelInfo VALUES(19829,'规则名称',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19829,'Rule Name',8) 
GO
INSERT INTO HtmlLabelIndex values(19830,'应用帐户') 
GO
INSERT INTO HtmlLabelInfo VALUES(19830,'应用帐户',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19830,'Mail Account',8) 
GO
INSERT INTO HtmlLabelIndex values(19831,'执行动作') 
GO
INSERT INTO HtmlLabelInfo VALUES(19831,'执行动作',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19831,'Action',8) 
GO
INSERT INTO HtmlLabelIndex values(19832,'移动邮件至') 
GO
INSERT INTO HtmlLabelIndex values(19833,'复制邮件至') 
GO
INSERT INTO HtmlLabelInfo VALUES(19832,'移动邮件至',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19832,'Move to',8) 
GO
INSERT INTO HtmlLabelInfo VALUES(19833,'复制邮件至',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19833,'Copy to',8) 
GO
INSERT INTO HtmlLabelIndex values(19834,'规则定义') 
GO
INSERT INTO HtmlLabelInfo VALUES(19834,'规则定义',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19834,'Rule Define',8) 
GO
INSERT INTO HtmlLabelIndex values(19835,'匹配规则') 
GO
INSERT INTO HtmlLabelInfo VALUES(19835,'匹配规则',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19835,'Matching Rule',8) 
GO
INSERT INTO HtmlLabelIndex values(19836,'匹配所有规则') 
GO
INSERT INTO HtmlLabelInfo VALUES(19836,'匹配所有规则',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19836,'Matching All Rule',8) 
GO
INSERT INTO HtmlLabelIndex values(19837,'匹配任一规则') 
GO
INSERT INTO HtmlLabelInfo VALUES(19837,'匹配任一规则',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19837,'Matching One Rule',8) 
GO
INSERT INTO HtmlLabelIndex values(19838,'应用时间') 
GO
INSERT INTO HtmlLabelInfo VALUES(19838,'应用时间',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19838,'Apply Time',8) 
GO
INSERT INTO HtmlLabelIndex values(19839,'邮件到达') 
GO
INSERT INTO HtmlLabelIndex values(19840,'邮件发送') 
GO
INSERT INTO HtmlLabelInfo VALUES(19839,'邮件到达',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19839,'Get Mail',8) 
GO
INSERT INTO HtmlLabelInfo VALUES(19840,'邮件发送',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19840,'Send Mail',8) 
GO
INSERT INTO HtmlLabelIndex values(19841,'执行条件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19841,'执行条件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19841,'Condition',8) 
GO
INSERT INTO HtmlLabelIndex values(19842,'邮件大小') 
GO
INSERT INTO HtmlLabelInfo VALUES(19842,'邮件大小',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19842,'Mail Size',8) 
GO
INSERT INTO HtmlLabelIndex values(19843,'不是') 
GO
INSERT INTO HtmlLabelInfo VALUES(19843,'不是',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19843,'Not',8) 
GO
INSERT INTO HtmlLabelIndex values(19844,'包含附件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19844,'包含附件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19844,'Has Attachment',8) 
GO
INSERT INTO HtmlLabelIndex values(19847,'邮件导出') 
GO
INSERT INTO HtmlLabelInfo VALUES(19847,'邮件导出',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19847,'Export',8) 
GO
INSERT INTO HtmlLabelIndex values(19848,'默认导出目录') 
GO
INSERT INTO HtmlLabelInfo VALUES(19848,'默认导出目录',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19848,'Default Document Category',8) 
GO
INSERT INTO HtmlLabelIndex values(19849,'浏览方式') 
GO
INSERT INTO HtmlLabelInfo VALUES(19849,'浏览方式',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19849,'Layout',8) 
GO
INSERT INTO HtmlLabelIndex values(19850,'阅读版式') 
GO
INSERT INTO HtmlLabelInfo VALUES(19850,'阅读版式',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19850,'Layout',8) 
GO
INSERT INTO HtmlLabelIndex values(19851,'上下排列') 
GO
INSERT INTO HtmlLabelInfo VALUES(19851,'上下排列',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19851,'Vertical',8) 
GO
INSERT INTO HtmlLabelIndex values(19852,'平铺') 
GO
INSERT INTO HtmlLabelInfo VALUES(19852,'平铺',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19852,'List',8) 
GO
INSERT INTO HtmlLabelIndex values(19853,'模板信息') 
GO
INSERT INTO HtmlLabelInfo VALUES(19853,'模板信息',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19853,'Template',8) 
GO

delete from HtmlLabelIndex where id=19516
go
delete from HtmlLabelInfo where indexid=19516
go
INSERT INTO HtmlLabelIndex values(19516,'自定义') 
GO
INSERT INTO HtmlLabelInfo VALUES(19516,'自定义',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19516,'user-defined',8) 
GO

/*=======================================================================*/
INSERT INTO HtmlLabelIndex values(19854,'未发现新邮件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19854,'未发现新邮件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19854,'No New Message',8) 
GO
INSERT INTO HtmlLabelIndex values(19855,'新邮件') 
GO
INSERT INTO HtmlLabelInfo VALUES(19855,'新邮件',7) 
GO
INSERT INTO HtmlLabelInfo VALUES(19855,'New Message',8) 
GO


/* 菜单 */
UPDATE LeftMenuInfo SET linkAddress='/email/MailFrame.jsp' WHERE id=10
GO


delete from leftmenuconfig where infoid>=68 and infoid<=76
go
delete from leftmenuinfo where id>=68 and id<=76
go
/* 表 */
CREATE TABLE MailSetting(
    id int identity,
    userId int,
    mainId int,
    subId int,
    secId int,
    layout int,
    perpage int
)
GO
CREATE TABLE MailAccount(
    id int identity,
    userId int,
    accountName varchar(50),
    accountId varchar(50),
    accountPassword varchar(50),
    serverType int,
    popServer varchar(100),
    popServerPort int,
    smtpServer varchar(100),
    smtpServerPort int,
    needCheck char(1),
    needSave char(1),
    isDefault char(1)
)
GO
CREATE TABLE MailInboxFolder(
    id int identity,
    webfxTreeId varchar(50),
    userId int,
    folderName varchar(50),
    parentId int,
    subCount int
)
GO
CREATE TABLE MailRule(
    id int identity,
    userId int,
    ruleName varchar(100),
    matchAll char(1),
    applyTime char(1),
    mailAccountId int,
    isActive char(1)
)
GO
CREATE TABLE MailRuleCondition(
    id int identity,
    ruleId int,
    cSource char(1),
    operator char(1),
    cTarget varchar(100)
)
GO
CREATE TABLE MailRuleAction(
    id int identity,
    ruleId int,
    aSource char(1),
    aTargetFolderId int,
    aTargetCRMId int
)
GO
CREATE TABLE MailContacterGroup(
    id int identity,
    userId int,
    groupName varchar(100),
    parentId int,
    subCount int
)
GO
CREATE TABLE MailTemplate(
    id int identity,
    userId int,
    templateName varchar(50),
    templateDescription varchar(100),
    templateSubject varchar(100),
    templateContent text,
    isDefault char(1)
)
GO
CREATE TABLE MailTemplateFile(
    id int identity,
    templateId int,
    attachmentName varchar(100)
    
    
)
GO

alter table MailUserGroup add parentId int, subCount int
go
update MailUserGroup set parentId=0, subCount=0
go


alter table MailUserAddress add id int
go

alter table MailUserAddress add 
mailUserName varchar(50),
userId int,
mailUserType char(1), 
mailUserDesc varchar(200), 
mailUserEmailP varchar(50), 
mailUserTelP varchar(50), 
mailUserMobileP varchar(20), 
mailUserIMP varchar(20), 
mailUserAddressP varchar(100), 
mailUserTelW varchar(50), 
mailUserFaxW varchar(50), 
mailUserCompanyW varchar(100), 
mailUserDepartmentW varchar(50), 
mailUserPostW varchar(50), 
mailUserAddressW varchar(100)
go


alter table MailAccount add accountMailAddress varchar(50)
go

create table MailAccountReceivedInfo(
    accountId int,
    receivedDateTime varchar(30)
)
go

alter table MailRuleAction add mainId int,subId int,secId int
go

alter table MailRuleCondition add cTargetPriority char(1), cSendDate varchar(20)
go

alter table MailAccountReceivedInfo add sendfrom varchar(50)
go


alter table MailResource add attachmentNumber int
go
alter table MailResource add constraint DF_MailResource_attachmentNumber default 0 for attachmentNumber
go

update MailResource set attachmentNumber=0
go

declare @filenum int,@mailid int
declare c cursor for
select count(id) as filenum,mailid from MailResourceFile where isfileattrachment='1' group by mailid
open c
fetch next from c into @filenum, @mailid
while @@fetch_status=0
begin
    update MailResource set attachmentNumber=@filenum where id=@mailid
    fetch next from c into @filenum, @mailid
end
close c
deallocate c
go

alter table MailResource add status char(1),folderId int,mailAccountId int
go
update MailResource set status='0',folderId=0
go


insert into MailSetting (userid,layout,perpage) select id,'3',10 from HrmResource
go
insert into MailSetting (userid,layout,perpage) select id,'3',10 from HrmResourceManager
go
